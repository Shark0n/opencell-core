<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">


    <changeSet author="AbdelmounaimAkadid" id="#3224_16022018">
        <insert tableName="adm_role">
            <column name="id" valueNumeric="-6"/>
            <column name="version" valueNumeric="0"/>
            <column name="role_description" value="Customer care user"/>
            <column name="role_name" value="CUSTOMER_CARE_USER"/>
        </insert>
        <insert tableName="adm_role_role">
            <column name="role_id" valueNumeric="-6"/>
            <column name="child_role_id" valueNumeric="-3"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-6"/>
            <column name="permission_id" valueNumeric="14"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-6"/>
            <column name="permission_id" valueNumeric="1"/>
        </insert>
    </changeSet>

    <changeSet id="#3260_20180227 - Add finance roles" author="EdwardPLegaspi">
        <insert tableName="adm_role">
            <column name="id" value="-7"/>
            <column name="version" value="0"/>
            <column name="role_description" value="Finance Management"/>
            <column name="role_name" value="financeManagement"/>
        </insert>
        <insert tableName="adm_role">
            <column name="id" value="-8"/>
            <column name="version" value="0"/>
            <column name="role_description" value="Finance Visualization"/>
            <column name="role_name" value="financeVisualization"/>
        </insert>
        <insert tableName="adm_user_role">
            <column name="user_id" value="-1"></column>
            <column name="role_id" value="-7"></column>
        </insert>
        <insert tableName="adm_user_role">
            <column name="user_id" value="-1"></column>
            <column name="role_id" value="-8"></column>
        </insert>
    </changeSet>
    <changeSet author="anasseh" id="#3167_20022018">
        <sql>update ${db.schema.adapted}ar_payment_gateway set description ='Ingenico API Connect OGONE for Sepa
            payments', code='INGENICO_OGONE_SEPA', uuid='gateway_INGENICO_ONGONE' ,disabled=0, trading_currency_id = -1
            , payment_method ='DIRECTDEBIT' where id =-1
        </sql>
        <sql>delete from ${db.schema.adapted}ar_payment_gateway where id =-2</sql>
        <sql>delete from ${db.schema.adapted}ar_payment_gateway where id =-3</sql>
        <insert tableName="ar_payment_gateway">
            <column name="id" valueNumeric="-2"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="SLIMPAY_SEPA"/>
            <column name="description" value="Slimpay for Sepa payments"/>
            <column name="type" value="NATIF"/>
            <column name="payment_method" value="DIRECTDEBIT"/>
            <column name="implementation_class_name" value="org.meveo.service.payments.impl.SlimpayGatewayPayment"/>
            <column name="trading_currency_id" value="-2"/><!-- EUR -->
            <column name="uuid" value="gateway_SLIMPAY"/>
        </insert>
        <insert tableName="ar_payment_gateway">
            <column name="id" valueNumeric="-3"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="INGENICO_OGONE_CARD"/>
            <column name="description" value="Ingenico API Connect OGONE for Card payments"/>
            <column name="type" value="NATIF"/>
            <column name="payment_method" value="CARD"/>
            <column name="implementation_class_name" value="org.meveo.service.payments.impl.SlimpayGatewayPayment"/>
            <column name="trading_currency_id" value="-2"/><!-- EUR -->
            <column name="uuid" value="gateway_SLIMPAY"/>
        </insert>
    </changeSet>
    <changeSet author="anasseh" id="#3110_08032018">
        <sql>delete from ${db.schema.adapted}crm_provider_pay_methods where payment_method='NONE'</sql>
    </changeSet>

    <changeSet author="anasseh" id="#3167_20022018_2">
        <sql>update ${db.schema.adapted}ar_payment_gateway set country_id = 70, trading_currency_id = null where id
            =-1
        </sql>
        <sql>update ${db.schema.adapted}ar_payment_gateway set country_id = 102, trading_currency_id = null where id
            =-2
        </sql>
    </changeSet>

    <changeSet id="#2125_20180328 Report Extracts" author="EdwardPLegaspi">
        <sql><![CDATA[INSERT INTO ${db.schema.adapted}meveo_script_instance (id, version, disabled, created, code, description, src_type, script) VALUES (-1, 0, 0, now(), 'ACCOUNT_OPS', 'Export account operations', 'JAVA', '
			package org.meveo.service.script.export;

import java.io.File;
import java.io.FileWriter;
import java.text.DateFormat;
import java.text.SimpleDateFormat;
import java.util.List;
import java.util.Map;

import org.meveo.admin.exception.BusinessException;
import org.meveo.model.payments.AccountOperation;
import org.meveo.model.payments.CustomerAccount;
import org.meveo.model.payments.RecordedInvoice;
import org.meveo.service.payments.impl.AccountOperationService;
import org.meveo.service.script.Script;
import org.meveo.service.script.finance.ReportExtractScript;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import java.util.Date;

public class ExportAccountOperationScript extends ReportExtractScript {

	private static final Logger LOGGER = LoggerFactory.getLogger(ExportAccountOperationScript.class);

    private AccountOperationService accountOperationService = (AccountOperationService) getServiceInterface(AccountOperationService.class.getSimpleName());


	@Override
	public void execute(Map<String, Object> initContext) throws BusinessException {
		try {
			LOGGER.debug("#####################Starting of script ExportAccountOperationScript");

			Date startDate = (Date) initContext.get(ReportExtractScript.START_DATE);
			Date endDate = (Date) initContext.get(ReportExtractScript.END_DATE);
			DateFormat df = new SimpleDateFormat("yyyy-MM-dd");

			List<AccountOperation> accountOperations = accountOperationService.list();
			initContext.put(ReportExtractScript.LINE_COUNT, accountOperations.size());
			
	        String exportDir = String.valueOf(initContext.get(ReportExtractScript.DIR));
	        File dir = new File(exportDir);
	        if (!dir.exists()) {
	            dir.mkdirs();
	        }
	        CustomerAccount customerAccount = null;
	        StringBuilder sb =new StringBuilder();
	        sb.append("Transaction Date;Transaction Type;Amount;Due Date;Reference;Transaction Category;Invoice Date;"
	        		+ "Customer Account Code;Customer Account Description\n");
	        for (AccountOperation accountOperation : accountOperations) {
	        	if(accountOperation.getTransactionDate().equals(startDate) || accountOperation.getTransactionDate().equals(endDate)
	        			|| (accountOperation.getTransactionDate().after(startDate) && accountOperation.getTransactionDate().before(endDate))) {

	        		customerAccount = accountOperation.getCustomerAccount();
	        		sb.append(nil(accountOperation.getTransactionDate().toString())+ ";");
		        	sb.append(nil(accountOperation.getType()) + ";");
		        	sb.append(nil(accountOperation.getAmount().toString()) + ";");
		        	sb.append(isNull(accountOperation.getDueDate()) + ";");
		        	sb.append(nil(accountOperation.getReference()) + ";");
		        	sb.append(nil(accountOperation.getTransactionCategory().toString()) + ";");
		        	if(accountOperation instanceof RecordedInvoice) {
		        		RecordedInvoice invoice = (RecordedInvoice) accountOperation;
			        	sb.append(invoice.getInvoiceDate().toString() + ";");
		        	} else {
			        	sb.append(";");
		        	}
		        	sb.append(nil(customerAccount.getCode()) + ";");
		        	sb.append(nil(customerAccount.getDescriptionOrCode()) + ";\n");


	        	}
	        }
          	String strFilename = String.valueOf(initContext.get(ReportExtractScript.FILENAME));
          	LOGGER.debug("output={}", strFilename);
	        File file = new File(dir + File.separator + strFilename);
	        file.createNewFile();
	        FileWriter fileWriter = new FileWriter(file);
	        fileWriter.write(sb.toString());
	        fileWriter.close();

			LOGGER.debug("#####################Ending of script ExportAccountOperationScript");
		} catch (Exception e) {
			initContext.put(ReportExtractScript.ERROR_MESSAGE, e.getMessage());
			LOGGER.error("Exception:", e);
			throw new BusinessException(e.getMessage());
		}

	}

  private String isNull(Object obj) {
    if(obj == null) {
      return "";
    } else {
      return obj.toString();
    }
  }

	private String nil(String word) {
		if (word == null || "null".equalsIgnoreCase(word)) {
			return "";
		} else {
			return word;
		}
	}
}		
		');]]></sql>

        <sql><![CDATA[
INSERT INTO ${db.schema.adapted}dwh_report_extract 
	(uuid, id, result_type, version, disabled, created, code, description, category, script_type, filename_format, sql_query) 
VALUES
	('SALES_JOURNAL_UUID', -1, 'HTML', 0, 0, now(), 'SALES_JOURNAL', 'Sales Journal', 'sales', 'SQL', 'sales-[yyyy_MM_dd].html',
	'SELECT
    TO_CHAR(ao.invoice_date,''MM'') AS "Mois",
    TO_CHAR(ao.invoice_date,''DD/MM/YYYY'') AS "Date facture",
    text(''HG'') AS "Code comptable",
    ae.code AS "Client facturÃ©",
    text(''MAI'') AS "Type article",
    split_part(bac.code, '','', 6) AS "Famille statistique",
    split_part(bac.code, '','', 2) AS "Article",
    trim(TO_CHAR(ia.amount_without_tax,''9999990D00'')) AS "Montant HT",
    trim(TO_CHAR(ia.quantity,''9999990'')) AS "QtÃ© facturÃ©e",
    ao.reference AS "No facture",
    ao.occ_description AS "CatÃ©gorie facture",
    ao.occ_code AS "Type de piÃ¨ce",
    text(''VEN'') AS "Journal"
FROM
    account_entity ae
INNER JOIN ar_account_operation ao ON ao.customer_account_id = ae.id
INNER JOIN billing_invoice i ON i.invoice_number = ao.reference
INNER JOIN billing_invoice_agregate ia ON (ia.invoice_id = i.id AND type = ''F'')
LEFT JOIN billing_accounting_code bac ON bac.id = ia.accounting_code_id
WHERE :START_DATE<>:END_DATE
AND ae.account_type = ''ACCT_CA''
AND ao.invoice_date >= to_date(''01/'' || TO_CHAR(CURRENT_DATE,''MM/YYYY''),''DD/MM/YYYY'') + interval ''-12 month''
AND ao.invoice_date <= to_date(''01/'' || TO_CHAR(CURRENT_DATE,''MM/YYYY''),''DD/MM/YYYY'') + interval ''0 month''
ORDER BY
    ae.code,
    occ_code,
    split_part(bac.code, '','', 6),
    split_part(bac.code, '','', 2);
')
		]]></sql>

        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-1"></column>
            <column name="params_key" value="START_DATE"></column>
            <column name="params" value="31/01/2017"></column>
        </insert>

        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-1"></column>
            <column name="params_key" value="END_DATE"></column>
            <column name="params" value="31/12/2018"></column>
        </insert>

        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-2"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="ACCOUNT_OPS"/>
            <column name="description" value="Export account operations"/>
            <column name="category" value="sales"></column>
            <column name="script_type" value="JAVA"></column>
            <column name="filename_format" value="accounts-ops-[yyyy_MM_dd].csv"></column>
            <column name="script_instance_id" value="-1"></column>
            <column name="uuid" value="ACOUNT_OPS_UUID"></column>
            <column name="result_type" value="CSV"></column>
        </insert>

        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-2"></column>
            <column name="params_key" value="START_DATE"></column>
            <column name="params" value="31/01/2017"></column>
        </insert>

        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-2"></column>
            <column name="params_key" value="END_DATE"></column>
            <column name="params" value="31/12/2018"></column>
        </insert>

    </changeSet>

    <changeSet id="#3234_05042018_1 - Homogenization of Account Operation types" author="anansseh" dbms="mysql">
        <sql>INSERT INTO ${db.schema.adapted}billing_accounting_code (version, disabled, created, code, creator,
            chart_of_account_type, chart_of_account_view_type, migrated) VALUES (0, 0, CURRENT_TIMESTAMP(), '654100000',
            'opencell.admin', 'ASSETS', 'REGULAR', 1)
        </sql>
        <sql>insert into ${db.schema.adapted}ar_occ_template
            (version,created,accounting_code_id,account_code_client_side,code, description,occ_category,creator) values
            (0,CURRENT_TIMESTAMP(),(select id from ${db.schema.adapted}billing_accounting_code where
            code='512010000'),'411000000','PAY_CRD','Payment - card','CREDIT','opencell.admin')
        </sql>
        <sql>insert into ${db.schema.adapted}ar_occ_template
            (version,created,accounting_code_id,account_code_client_side,code, description,occ_category,creator) values
            (0,CURRENT_TIMESTAMP(),(select id from ${db.schema.adapted}billing_accounting_code where
            code='654100000'),'411000000','EXP_WRT','Expense - bad debt write-off','DEBIT','opencell.admin')
        </sql>
        <sql>
            <![CDATA[update ${db.schema.adapted}billing_accounting_code_seq set next_val=(select id+1 from ${db.schema.adapted}billing_accounting_code order by id desc limit 1);]]></sql>
    </changeSet>

    <changeSet id="#3234_05042018_2 - Homogenization of Account Operation types" author="anansseh" dbms="postgresql">
        <sql>INSERT INTO ${db.schema.adapted}billing_accounting_code (id,version, disabled, created, code, creator,
            chart_of_account_type, chart_of_account_view_type, migrated) VALUES
            (nextval('${db.schema.adapted}billing_accounting_code_seq'),0, 0, current_timestamp, '654100000',
            'opencell.admin', 'ASSETS', 'REGULAR', 1)
        </sql>
        <sql>insert into ${db.schema.adapted}ar_occ_template
            (id,version,created,accounting_code_id,account_code_client_side,code, description,occ_category,creator)
            values (nextval('${db.schema.adapted}ar_occ_template_seq'),0,current_timestamp,(select id from
            ${db.schema.adapted}billing_accounting_code where code='512010000'),'411000000','PAY_CRD','Payment -
            card','CREDIT','opencell.admin')
        </sql>
        <sql>insert into ${db.schema.adapted}ar_occ_template
            (id,version,created,accounting_code_id,account_code_client_side,code, description,occ_category,creator)
            values (nextval('${db.schema.adapted}ar_occ_template_seq'),0,current_timestamp,(select id from
            ${db.schema.adapted}billing_accounting_code where code='654100000'),'411000000','EXP_WRT','Expense - bad
            debt write-off','DEBIT','opencell.admin')
        </sql>
    </changeSet>

    <changeSet id="#1705_20180406" author="EdwardPLegaspi">
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-8"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="400000000"></column>
            <column name="description" value="Accounts payable"></column>
            <column name="chart_of_account_type" value="LIABILITIES"></column>
            <column name="chart_of_account_view_type" value="VIEW"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-9"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="401000000"></column>
            <column name="description" value="General AP"></column>
            <column name="chart_of_account_type" value="LIABILITIES"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-10"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="408000000"></column>
            <column name="description" value="Accrued payables"></column>
            <column name="chart_of_account_type" value="LIABILITIES"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-11"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="410000000"></column>
            <column name="description" value="Accounts receivable"></column>
            <column name="chart_of_account_type" value="ASSETS"></column>
            <column name="chart_of_account_view_type" value="VIEW"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-13"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="416000000"></column>
            <column name="description" value="Doubtful receivables"></column>
            <column name="chart_of_account_type" value="ASSETS"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-14"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="418100000"></column>
            <column name="description" value="Accrued receivables"></column>
            <column name="chart_of_account_type" value="ASSETS"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-15"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="445510000"></column>
            <column name="description" value="VAT due"></column>
            <column name="chart_of_account_type" value="LIABILITIES"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-16"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="445660000"></column>
            <column name="description" value="VAT deductible"></column>
            <column name="chart_of_account_type" value="ASSETS"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-17"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="445670000"></column>
            <column name="description" value="VAT credit"></column>
            <column name="chart_of_account_type" value="ASSETS"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-18"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="445710000"></column>
            <column name="description" value="VAT collected"></column>
            <column name="chart_of_account_type" value="LIABILITIES"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-19"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="487000000"></column>
            <column name="description" value="Deferred revenue"></column>
            <column name="chart_of_account_type" value="LIABILITIES"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-20"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="512000000"></column>
            <column name="description" value="Cash"></column>
            <column name="chart_of_account_type" value="ASSETS"></column>
            <column name="chart_of_account_view_type" value="VIEW"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-22"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="512020000"></column>
            <column name="description" value="Cash Payment - BNP #345678"></column>
            <column name="chart_of_account_type" value="ASSETS"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-23"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="622000000"></column>
            <column name="description" value="Reseller commission"></column>
            <column name="chart_of_account_type" value="EXPENSE"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-24"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="651100000"></column>
            <column name="description" value="Bad debt"></column>
            <column name="chart_of_account_type" value="EXPENSE"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-27"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="701000000"></column>
            <column name="description" value="Revenue"></column>
            <column name="chart_of_account_type" value="REVENUE"></column>
            <column name="chart_of_account_view_type" value="VIEW"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-28"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="701010000"></column>
            <column name="description" value="Gross Revenue"></column>
            <column name="chart_of_account_type" value="REVENUE"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
        </insert>
        <insert tableName="billing_accounting_code">
            <column name="id" valueNumeric="-29"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="creator" value="OPENCELL.ADMIN"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="701020000"></column>
            <column name="description" value="Discounts"></column>
            <column name="chart_of_account_type" value="REVENUE"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
        </insert>

        <update tableName="billing_accounting_code">
            <column name="description" value="Gross receivables"></column>
            <column name="chart_of_account_type" value="ASSETS"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
            <where>code='411000000'</where>
        </update>
        <update tableName="billing_accounting_code">
            <column name="description" value="Payment profit"></column>
            <column name="chart_of_account_type" value="REVENUE"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
            <where>code='758100000'</where>
        </update>
        <update tableName="billing_accounting_code">
            <column name="description" value="Cash Deposit - BNP #123456"></column>
            <column name="chart_of_account_type" value="ASSETS"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
            <where>code='512010000'</where>
        </update>
        <update tableName="billing_accounting_code">
            <column name="description" value="Bad debt write-off"></column>
            <column name="chart_of_account_type" value="EXPENSE"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
            <where>code='654100000'</where>
        </update>
        <update tableName="billing_accounting_code">
            <column name="description" value="Payment loss"></column>
            <column name="chart_of_account_type" value="EXPENSE"></column>
            <column name="chart_of_account_view_type" value="REGULAR"></column>
            <where>code='658100000'</where>
        </update>
    </changeSet>

    <changeSet id="#3260_20180409 - Delete roles, add to permission" author="EdwardPLegaspi">
        <delete tableName="adm_user_role">
            <where>role_id=-7</where>
        </delete>
        <delete tableName="adm_user_role">
            <where>role_id=-8</where>
        </delete>
        <delete tableName="adm_role">
            <where>id=-7</where>
        </delete>
        <delete tableName="adm_role">
            <where>id=-8</where>
        </delete>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-1"/>
            <column name="permission_id" valueNumeric="-20"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-1"/>
            <column name="permission_id" valueNumeric="-21"/>
        </insert>
    </changeSet>

    <changeSet author="SaidRamli" id="#3354_23042018">
        <insert tableName="adm_user_role">
            <column name="user_id" value="-1"></column>
            <column name="role_id" value="-6"></column>
        </insert>
        <insert tableName="adm_user_role">
            <column name="user_id" value="-3"></column>
            <column name="role_id" value="-6"></column>
        </insert>
    </changeSet>

    <changeSet id="#3326_20180502" author="EdwardPLegaspi">
        <sql>update dwh_report_extract set result_type='CSV' where result_type is null;</sql>
    </changeSet>

    <changeSet id="#3326_20180502 Mysql" author="EdwardPLegaspi" dbms="mysql">
        <sql>update ${db.schema.adapted}dwh_report_extract set result_type='CSV' where result_type is null;</sql>
    </changeSet>

    <changeSet author="anasseh" id="#3119_09052018">
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-31"/>
            <column name="name" value="cc-module-customers-payment-view"/>
            <column name="permission" value="cc-module-customers-payment-view"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-32"/>
            <column name="name" value="cc-module-customers-ba-view"/>
            <column name="permission" value="cc-module-customers-ba-view"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-33"/>
            <column name="name" value="cc-module-customers-edit-ba-ua-suspend"/>
            <column name="permission" value="cc-module-customers-edit-ba-ua-suspend"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-34"/>
            <column name="name" value="cc-module-customers-ba-inv-exceptional."/>
            <column name="permission" value="cc-module-customers-ba-inv-exceptional"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-35"/>
            <column name="name" value="cc-module-customers-edit-c-delete"/>
            <column name="permission" value="cc-module-customers-edit-c-delete"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-36"/>
            <column name="name" value="cc-module-customers-edit-c-update"/>
            <column name="permission" value="cc-module-customers-edit-c-update"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-37"/>
            <column name="name" value="cc-module-customers-edit-inv-pmt-view"/>
            <column name="permission" value="cc-module-customers-edit-inv-pmt-view"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-38"/>
            <column name="name" value="cc-module-customers-ba-inv-unbilled"/>
            <column name="permission" value="cc-module-customers-ba-inv-unbilled"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-39"/>
            <column name="name" value="cc-module-customers-edit-ba-ua-reactivate"/>
            <column name="permission" value="cc-module-customers-edit-ba-ua-reactivate"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-40"/>
            <column name="name" value="cc-module-customers-edit-ca-pm-add"/>
            <column name="permission" value="cc-module-customers-edit-ca-pm-add"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-41"/>
            <column name="name" value="cc-module-customers-edit-inv-view"/>
            <column name="permission" value="cc-module-customers-edit-inv-view"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-42"/>
            <column name="name" value="cc-module-customers-edit-ba-ua-view"/>
            <column name="permission" value="cc-module-customers-edit-ba-ua-view"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-43"/>
            <column name="name" value="cc-module-customers-edit-ba-ua-add"/>
            <column name="permission" value="cc-module-customers-edit-ba-ua-add"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-44"/>
            <column name="name" value="cc-module-customers-ba-add"/>
            <column name="permission" value="cc-module-customers-ba-add"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-45"/>
            <column name="name" value="cc-module-customers-edit-ca-pm-update"/>
            <column name="permission" value="cc-module-customers-edit-ca-pm-update"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-46"/>
            <column name="name" value="cc-module-customers-edit-inv-sub-new"/>
            <column name="permission" value="cc-module-customers-edit-inv-sub-new"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-47"/>
            <column name="name" value="cc-module-customers-edit-ca-pm-wiretransfer"/>
            <column name="permission" value="cc-module-customers-edit-ca-pm-wiretransfer"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-48"/>
            <column name="name" value="cc-module-customers-edit-ca-read"/>
            <column name="permission" value="cc-module-customers-edit-ca-read"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-49"/>
            <column name="name" value="cc-module-customers-ba-proforma"/>
            <column name="permission" value="cc-module-customers-ba-proforma"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-50"/>
            <column name="name" value="cc-module-customers-edit-ao-manage"/>
            <column name="permission" value="cc-module-customers-edit-ao-manage"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-51"/>
            <column name="name" value="cc-module-customers-edit-ca-pm-check"/>
            <column name="permission" value="cc-module-customers-edit-ca-pm-check"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-52"/>
            <column name="name" value="cc-module-customers-edit-ca-update"/>
            <column name="permission" value="cc-module-customers-edit-ca-update"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-53"/>
            <column name="name" value="cc-module-customers-menu"/>
            <column name="permission" value="cc-module-customers-menu"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-54"/>
            <column name="name" value="cc-module-customers-edit-ca-resiliate"/>
            <column name="permission" value="cc-module-customers-edit-ca-resiliate"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-55"/>
            <column name="name" value="cc-module-customers-edit-inv-ba-new"/>
            <column name="permission" value="cc-module-customers-edit-inv-ba-new"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-56"/>
            <column name="name" value="cc-module-customers-edit-c-read"/>
            <column name="permission" value="cc-module-customers-edit-c-read"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-57"/>
            <column name="name" value="cc-module-customers-edit-ao-view"/>
            <column name="permission" value="cc-module-customers-edit-ao-view"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-58"/>
            <column name="name" value="cc-module-customers-edit-ca-pm-directdebit"/>
            <column name="permission" value="cc-module-customers-edit-ca-pm-directdebit"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-59"/>
            <column name="name" value="cc-module-customers-edit-ba-ua-update"/>
            <column name="permission" value="cc-module-customers-edit-ba-ua-update"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-60"/>
            <column name="name" value="cc-module-customers-edit-ca-pm-tip"/>
            <column name="permission" value="cc-module-customers-edit-ca-pm-tip"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-61"/>
            <column name="name" value="cc-module-customers-edit-ca-pm-creditcard"/>
            <column name="permission" value="cc-module-customers-edit-ca-pm-creditcard"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-62"/>
            <column name="name" value="cc-module-customers-edit-ca-pm-slimpay"/>
            <column name="permission" value="cc-module-customers-edit-ca-pm-slimpay"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-63"/>
            <column name="name" value="cc-module-customers-ba-sub-new"/>
            <column name="permission" value="cc-module-customers-ba-sub-new"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-64"/>
            <column name="name" value="cc-module-customers-edit-payment-add"/>
            <column name="permission" value="cc-module-customers-edit-payment-add"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-65"/>
            <column name="name" value="cc-module-customers-edit-ca-reactivate"/>
            <column name="permission" value="cc-module-customers-edit-ca-reactivate"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-66"/>
            <column name="name" value="cc-module-customers-edit-ba-ua-read"/>
            <column name="permission" value="cc-module-customers-edit-ba-ua-read"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-67"/>
            <column name="name" value="cc-module-customers-ba-update"/>
            <column name="permission" value="cc-module-customers-ba-update"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-68"/>
            <column name="name" value="cc-module-customers-edit-c-selfcare"/>
            <column name="permission" value="cc-module-customers-edit-c-selfcare"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-69"/>
            <column name="name" value="cc-module-customers-edit-ba-ua-resiliate"/>
            <column name="permission" value="cc-module-customers-edit-ba-ua-resiliate"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-70"/>
            <column name="name" value="pc-module-customers-menu"/>
            <column name="permission" value="pc-module-customers-menu"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-71"/>
            <column name="name" value="cc-module-customers-new"/>
            <column name="permission" value="cc-module-customers-new"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-72"/>
            <column name="name" value="cc-module-customers-edit-ca-suspend"/>
            <column name="permission" value="cc-module-customers-edit-ca-suspend"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-73"/>
            <column name="name" value="cc-module-customers-ba-inv-view"/>
            <column name="permission" value="cc-module-customers-ba-inv-view"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-74"/>
            <column name="name" value="cc-module-customers-edit-ca-add"/>
            <column name="permission" value="cc-module-customers-edit-ca-add"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-75"/>
            <column name="name" value="cc-module-settings-files-createdir"/>
            <column name="permission" value="cc-module-settings-files-createdir"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-76"/>
            <column name="name" value="cc-module-settings-users-add"/>
            <column name="permission" value="cc-module-settings-users-add"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-77"/>
            <column name="name" value="cc-module-settings-files-menu"/>
            <column name="permission" value="cc-module-settings-files-menu"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-78"/>
            <column name="name" value="cc-module-settings-menu"/>
            <column name="permission" value="cc-module-settings-menu"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-79"/>
            <column name="name" value="cc-module-settings-users-update"/>
            <column name="permission" value="cc-module-settings-users-update"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-80"/>
            <column name="name" value="cc-module-settings-users-view"/>
            <column name="permission" value="cc-module-settings-users-view"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-81"/>
            <column name="name" value="cc-module-settings-files-download"/>
            <column name="permission" value="cc-module-settings-files-download"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-82"/>
            <column name="name" value="cc-module-settings-users-submenu"/>
            <column name="permission" value="cc-module-settings-users-submenu"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-83"/>
            <column name="name" value="cc-module-settings-files-upload"/>
            <column name="permission" value="cc-module-settings-files-upload"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-84"/>
            <column name="name" value="cc-module-subscriptions-proforma"/>
            <column name="permission" value="cc-module-subscriptions-proforma"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-85"/>
            <column name="name" value="cc-module-subscriptions-menu"/>
            <column name="permission" value="cc-module-subscriptions-menu"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-86"/>
            <column name="name" value="cc-module-subscriptions-validate"/>
            <column name="permission" value="cc-module-subscriptions-validate"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-87"/>
            <column name="name" value="cc-module-subscriptions-service-resiliate"/>
            <column name="permission" value="cc-module-subscriptions-service-resiliate"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-88"/>
            <column name="name" value="cc-module-subscriptions-service-reactivate"/>
            <column name="permission" value="cc-module-subscriptions-service-reactivate"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-89"/>
            <column name="name" value="cc-module-subscriptions-view"/>
            <column name="permission" value="cc-module-subscriptions-view"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-90"/>
            <column name="name" value="cc-module-subscriptions-view-suspend"/>
            <column name="permission" value="cc-module-subscriptions-view-suspend"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-91"/>
            <column name="name" value="cc-module-subscriptions-service-suspend"/>
            <column name="permission" value="cc-module-subscriptions-service-suspend"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-92"/>
            <column name="name" value="cc-module-subscriptions-view-reactivate"/>
            <column name="permission" value="cc-module-subscriptions-view-reactivate"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-93"/>
            <column name="name" value="cc-module-subscriptions-view-resiliate"/>
            <column name="permission" value="cc-module-subscriptions-view-resiliate"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-94"/>
            <column name="name" value="cc-module-subscriptions-view-new"/>
            <column name="permission" value="cc-module-subscriptions-view-new"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-95"/>
            <column name="name" value="pc-module-seller-new"/>
            <column name="permission" value="pc-module-seller-new"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-96"/>
            <column name="name" value="pc-module-seller-menu"/>
            <column name="permission" value="pc-module-seller-menu"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-97"/>
            <column name="name" value="cc-module-users-menu"/>
            <column name="permission" value="cc-module-users-menu"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-98"/>
            <column name="name" value="pc-module-myaccount-menu"/>
            <column name="permission" value="pc-module-myaccount-menu"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-99"/>
            <column name="name" value="cc-module-accounting-menu"/>
            <column name="permission" value="cc-module-accounting-menu"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-100"/>
            <column name="name" value="cc-module-payment-menu"/>
            <column name="permission" value="cc-module-payment-menu"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-101"/>
            <column name="name" value="cc-module-read"/>
            <column name="permission" value="cc-module-read"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-102"/>
            <column name="name" value="cc-module-tickets-menu"/>
            <column name="permission" value="cc-module-tickets-menu"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-103"/>
            <column name="name" value="cc-module-mediation-menu"/>
            <column name="permission" value="cc-module-mediation-menu"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-104"/>
            <column name="name" value="sc-module-home-menu"/>
            <column name="permission" value="sc-module-home-menu"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-105"/>
            <column name="name" value="sc-module-myaccount-menu"/>
            <column name="permission" value="sc-module-myaccount-menu"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-106"/>
            <column name="name" value="sc-module-mysubs-menu"/>
            <column name="permission" value="sc-module-mysubs-menu"/>
        </insert>
        <insert tableName="adm_permission">
            <column name="id" valueNumeric="-107"/>
            <column name="name" value="sc-module-myusers-menu"/>
            <column name="permission" value="sc-module-myusers-menu"/>
        </insert>
        <insert tableName="adm_role">
            <column name="id" valueNumeric="-7"/>
            <column name="version" valueNumeric="0"/>
            <column name="role_description" value="CC_ADMIN"/>
            <column name="role_name" value="CC_ADMIN"/>
        </insert>
        <insert tableName="adm_role">
            <column name="id" valueNumeric="-8"/>
            <column name="version" valueNumeric="0"/>
            <column name="role_description" value="CC_LEVEL_1"/>
            <column name="role_name" value="CC_LEVEL_1"/>
        </insert>
        <insert tableName="adm_role">
            <column name="id" valueNumeric="-9"/>
            <column name="version" valueNumeric="0"/>
            <column name="role_description" value="CC_LEVEL_2"/>
            <column name="role_name" value="CC_LEVEL_2"/>
        </insert>
        <insert tableName="adm_role">
            <column name="id" valueNumeric="-10"/>
            <column name="version" valueNumeric="0"/>
            <column name="role_description" value="PC_ADMIN"/>
            <column name="role_name" value="PC_ADMIN"/>
        </insert>
        <insert tableName="adm_role">
            <column name="id" valueNumeric="-11"/>
            <column name="version" valueNumeric="0"/>
            <column name="role_description" value="PC_LEVEL_1"/>
            <column name="role_name" value="PC_LEVEL_1"/>
        </insert>
        <insert tableName="adm_role">
            <column name="id" valueNumeric="-12"/>
            <column name="version" valueNumeric="0"/>
            <column name="role_description" value="PC_LEVEL_2"/>
            <column name="role_name" value="PC_LEVEL_2"/>
        </insert>
        <insert tableName="adm_role">
            <column name="id" valueNumeric="-13"/>
            <column name="version" valueNumeric="0"/>
            <column name="role_description" value="SC_LEVEL_1"/>
            <column name="role_name" value="SC_LEVEL_1"/>
        </insert>
        <insert tableName="adm_role">
            <column name="id" valueNumeric="-14"/>
            <column name="version" valueNumeric="0"/>
            <column name="role_description" value="SUPER_ADMIN"/>
            <column name="role_name" value="SUPER_ADMIN"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-104"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-105"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-106"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-107"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-45"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-101"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-39"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-86"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-50"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-59"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-94"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-99"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-75"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-43"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-100"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-78"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-83"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-82"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-84"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-61"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-91"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-46"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-48"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-97"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-64"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-42"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-56"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-31"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-80"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-55"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-79"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-66"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-72"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-63"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-89"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-76"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-52"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-92"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-41"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-62"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-53"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-74"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-44"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-87"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-73"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-85"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-68"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-93"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-71"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-32"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-33"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-34"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-49"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-54"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-67"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-81"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-38"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-90"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-58"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-69"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-37"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-35"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-25"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-57"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-88"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-36"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-40"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-65"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-51"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-77"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-60"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-7"/>
            <column name="permission_id" valueNumeric="-47"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-101"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-91"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-40"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-49"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-73"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-88"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-65"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-37"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-84"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-90"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-85"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-68"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-92"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-51"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-64"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-60"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-61"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-48"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-46"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-38"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-45"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-66"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-55"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-89"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-35"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-72"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-39"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-58"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-54"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-94"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-53"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-83"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-56"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-69"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-47"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-78"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-41"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-63"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-43"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-81"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-33"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-93"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-71"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-57"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-77"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-59"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-36"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-31"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-42"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-8"/>
            <column name="permission_id" valueNumeric="-87"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-89"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-91"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-84"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-93"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-94"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-88"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-90"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-92"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-85"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-87"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-86"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-75"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-83"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-77"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-81"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-78"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-101"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-31"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-71"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-53"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-39"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-66"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-36"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-69"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-64"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-33"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-47"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-65"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-41"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-37"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-42"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-54"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-55"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-43"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-57"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-68"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-59"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-40"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-35"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-74"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-48"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-51"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-61"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-72"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-58"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-46"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-60"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-50"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-45"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-52"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-62"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-56"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-73"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-63"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-32"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-34"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-38"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-9"/>
            <column name="permission_id" valueNumeric="-49"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-101"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-100"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-99"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-97"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-96"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-95"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-94"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-93"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-92"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-91"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-90"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-89"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-88"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-87"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-86"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-85"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-84"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-83"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-82"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-81"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-80"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-79"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-78"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-77"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-76"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-75"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-74"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-73"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-72"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-71"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-70"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-69"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-68"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-67"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-66"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-65"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-64"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-63"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-62"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-61"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-60"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-59"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-58"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-57"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-56"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-55"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-54"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-53"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-52"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-51"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-50"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-49"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-48"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-47"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-46"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-45"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-44"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-43"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-42"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-41"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-40"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-39"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-38"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-37"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-36"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-35"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-34"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-33"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-32"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-10"/>
            <column name="permission_id" valueNumeric="-31"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-51"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-45"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-50"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-33"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-67"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-81"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-32"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-68"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-38"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-55"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-90"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-82"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-85"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-98"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-60"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-100"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-73"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-79"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-65"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-42"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-75"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-54"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-64"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-99"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-66"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-46"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-83"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-93"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-43"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-74"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-71"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-101"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-48"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-37"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-61"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-58"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-62"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-96"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-84"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-31"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-87"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-53"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-39"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-47"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-92"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-35"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-56"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-88"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-52"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-40"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-59"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-78"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-44"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-94"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-57"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-77"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-91"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-49"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-63"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-34"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-69"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-76"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-89"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-36"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-41"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-11"/>
            <column name="permission_id" valueNumeric="-72"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-101"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-98"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-94"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-93"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-92"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-91"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-90"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-89"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-88"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-87"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-86"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-85"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-84"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-83"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-81"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-78"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-77"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-75"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-74"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-73"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-72"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-71"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-70"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-69"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-68"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-66"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-65"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-64"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-63"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-61"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-60"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-59"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-58"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-57"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-56"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-55"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-54"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-53"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-52"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-51"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-50"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-49"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-48"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-47"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-46"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-45"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-43"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-42"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-41"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-40"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-39"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-38"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-37"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-36"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-34"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-33"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-12"/>
            <column name="permission_id" valueNumeric="-31"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-86"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-102"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-103"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-42"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-52"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-78"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-41"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-49"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-81"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-97"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-58"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-65"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-62"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-55"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-76"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-50"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-47"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-85"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-32"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-61"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-94"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-63"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-99"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-46"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-91"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-34"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-79"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-96"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-83"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-37"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-64"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-84"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-60"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-69"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-38"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-100"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-57"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-75"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-93"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-56"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-92"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-67"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-77"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-80"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-35"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-48"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-43"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-68"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-31"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-88"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-66"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-39"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-95"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-33"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-45"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-73"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-71"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-40"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-44"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-70"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-87"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-101"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-36"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-59"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-74"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-51"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-82"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-89"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-90"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-53"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-54"/>
        </insert>
        <insert tableName="adm_role_permission">
            <column name="role_id" valueNumeric="-14"/>
            <column name="permission_id" valueNumeric="-72"/>
        </insert>
    </changeSet>

    <changeSet author="AbdelmounaimAkadid" id="#3255_18052018">
        <insert tableName="adm_role">
            <column name="id" valueNumeric="-15"/>
            <column name="version" valueNumeric="0"/>
            <column name="role_description" value="Hide Menu Header and Footer"/>
            <column name="role_name" value="hideMenuHeaderFooter"/>
        </insert>
    </changeSet>

    <changeSet author="Edwardlegaspi" id="#3232_20180530">
        <insert tableName="meveo_script_instance_cat">
            <column name="id" valueNumeric="-1"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="REPORT_EXTRACT"/>
            <column name="description" value="Report Extract"/>
        </insert>
    </changeSet>

    <changeSet author="anasseh" id="#3080_draft_innvoice_type">
        <insert tableName="billing_invoice_type">
            <column name="id" valueNumeric="-4" />
            <column name="version" valueNumeric="0" />
            <column name="created" valueDate="2016-09-14 00:00:00.000" />
            <column name="code" value="DRAFT" />
            <column name="description" value="Draft invoice" />
            <column name="creator" value="OPENCELL.ADMIN" />
            <column name="sequence_size" valueNumeric="5" />
            <column name="occ_template_id" value="-25" />
            <column name="matching_auto" valueNumeric="0" />
            <column name="matching_auto" valueNumeric="0" />
            <column name="prefix_el" value="DRAFT_" />
            <column name="uuid" value="INVOICE_TYPE-4" />
        </insert>
    </changeSet>
    
     <changeSet author="SaidRamli" id="#3540_12072018">
			<sql>insert into ${db.schema.adapted}crm_custom_field_tmpl (id, version, code, applies_to ,description, field_type, storage_type, gui_position, max_value, created) VALUES
			 (nextval('${db.schema.adapted}crm_custom_fld_tmp_seq') , 0, 
			 'documentNamePrefix' , 'PROVIDER' ,  'Prefix of the generated file name' ,  'STRING' ,  'SINGLE' , 
			 'tab:PDF document config:3;fieldGroup:Common:0;field:0' , '50' , now())
			</sql>
			<sql>insert into ${db.schema.adapted}crm_custom_field_tmpl (id, version, code, applies_to ,description, field_type, storage_type, gui_position, max_value, created) VALUES
			 (nextval('${db.schema.adapted}crm_custom_fld_tmp_seq') , 0, 
			 'documentDestinationDir' , 'PROVIDER' ,  'The directory where the file will be created' ,  'STRING' ,  'SINGLE' , 
			 'tab:PDF document config:3;fieldGroup:Common:0;field:1' , '50' , now())
			</sql>
	 </changeSet>

   <changeSet id="20180715 Payment gateway" author="ansseh">
        <sql><![CDATA[INSERT INTO ${db.schema.adapted}meveo_script_instance (id, version, disabled, created, code, description, src_type, script) VALUES (-10, 0, 0, now(), 'org.meveo.service.script.demo.CustomGatewayPaymentScript', 'CustomGatewayPaymentScript', 'JAVA', '
			package org.meveo.service.script.demo;

import java.io.StringReader;
import java.util.Map;

import javax.xml.xpath.XPath;
import javax.xml.xpath.XPathExpressionException;
import javax.xml.xpath.XPathFactory;

import org.meveo.admin.exception.BusinessException;
import org.meveo.model.payments.CardPaymentMethod;
import org.meveo.model.payments.PaymentStatusEnum;
import org.meveo.service.script.payment.PaymentScript;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.xml.sax.InputSource;

/**
 * 
 * @author anasseh
 *
 */

public class CustomGatewayPaymentScript extends PaymentScript{

	private static final Logger log = LoggerFactory.getLogger(CustomGatewayPaymentScript.class);

	@Override
	public void createCardToken(Map<String, Object> methodContext) throws BusinessException {			
		methodContext.put(PaymentScript.RESULT_TOKEN, "7ced0000-3ab2-000d-6a50-08d4b8a6"+(int )(Math.random() * 1000 + 1));
	}

	@Override
    public void doPaymentToken(Map<String, Object> methodContext) throws BusinessException {
	    doIt(methodContext, "PAL");
	}  
	
	@Override
    public void doRefundToken(Map<String, Object> methodContext) throws BusinessException {
	    doIt(methodContext, "RFD");
    }
	
	
	
	private void doIt(Map<String, Object> methodContext,String operationType) throws BusinessException {
		try{
			log.debug("EXECUTE  methodContext {} ", methodContext);
			Long amountCts = (Long)methodContext.get(PaymentScript.CONTEXT_AMOUNT_CTS);
			if(amountCts == null){
				throw new BusinessException("amountCts is null");
			}
			CardPaymentMethod paymentToken = (CardPaymentMethod)methodContext.get(PaymentScript.CONTEXT_TOKEN);
			if(paymentToken == null){
				throw new BusinessException("paymentMethod is null");
			}

			String body  = "{";
			body  += " \"PSPID\" : \"PSPID\" ,";
			body  += " \"USERID\" : \"USERID\" ,";
			body  += " \"PSWD\" : \"PSWD\" ,";
			body  += " \"REFKIND\" :  \"PSPID\" ,";
			body  += " \"REFID\" : \"PSPID\" ,";
			body  += " \"OPERATION\" : \""+operationType +"\" ,";
			body  += " \"AMOUNT\" : \""+amountCts.longValue()+"\" ,";
			body  += " \"CURRENCY\" : \""+paymentToken.getCustomerAccount().getTradingCurrency().getCurrencyCode()+"\" ,";
			body  += " \"TRANSACTIONID\" : \""+paymentToken.getTokenId()+"\" ,";
			body  += " \"SHASIGN\" : \"SHASIGN\" ,";
			body  += " }";
			log.debug("request body {} ", body);
/*			invoke here the real webService. 
            
*/
			String paymentResponse = "<root>"; 
			paymentResponse += "<STATUS>92</STATUS>";
			paymentResponse += "<PAYID>"+((int )(Math.random() * 100000 + 1))+"</PAYID>"; 
			paymentResponse += "<TRANSACTIONID>92</TRANSACTIONID>";
			paymentResponse += "<CRMTOKEN>clientSide</CRMTOKEN>"; 
			paymentResponse += "<BRAND>VISA</BRAND>";
			paymentResponse += "<ACCEPTENCE>bankRef</ACCEPTENCE>"; 
			paymentResponse += "</root>";
			methodContext.put(PaymentScript.RESULT_PAYMENT_STATUS, PaymentStatusEnum.PENDING);
			methodContext.put(PaymentScript.RESULT_PAYMENT_ID, getValue(paymentResponse,"/root/PAYID"));
			methodContext.put(PaymentScript.RESULT_TRANSACTION_ID, getValue(paymentResponse,"/root/TRANSACTIONID"));
			methodContext.put(PaymentScript.RESULT_CODE_CLIENT_SIDE, getValue(paymentResponse,"/root/CRMTOKEN"));
			methodContext.put(PaymentScript.RESULT_PAYMENT_BRAND, getValue(paymentResponse,"/root/BRAND"));
			methodContext.put(PaymentScript.RESULT_BANK_REFERENCE, getValue(paymentResponse,"/root/ACCEPTENCE"));			
		} catch (Exception e) {
			e.printStackTrace();
			throw new BusinessException(e.getMessage());
		}
	}	

	private String getValue(String sourceXML,String expression) throws XPathExpressionException{		
		InputSource iSource = new InputSource(new StringReader(sourceXML));
		XPathFactory xpathFactory = XPathFactory.newInstance();
		XPath xpath = xpathFactory.newXPath();		
		return xpath.evaluate(expression, iSource);			
	}
}
		');]]></sql>

 <sql><![CDATA[INSERT INTO ${db.schema.adapted}meveo_script_instance (id, version, disabled, created, code, description, src_type, script) VALUES (-11	, 0, 0, now(), 'org.meveo.service.script.demo.PaymentCallBackScript', 'PaymentCallBackScript', 'JAVA', '
			package org.meveo.service.script.smoove;

import java.util.Map;

import org.meveo.admin.exception.BusinessException;
import org.meveo.model.payments.PaymentStatusEnum;
import org.meveo.service.payments.impl.PaymentService;
import org.meveo.service.script.Script;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

/**
 * 
 * @author anasseh
 *
 *         Script executed after a payment callBack (inbound request), if the payment is rejected , the invoice matching is removed and a new is created with a the new reject
 *         payment account operation
 *
 */

public class PaymentCallBackScript extends Script {

    private static final Logger log = LoggerFactory.getLogger(PaymentCallBackScript.class);
    private PaymentService paymentService = (PaymentService) getServiceInterface("PaymentService");

    @Override
    public void execute(Map<String, Object> methodContext) throws BusinessException {
        log.debug("EXECUTE  methodContext {} ", methodContext);
        @SuppressWarnings("unchecked")
        Map<String, String> params = (Map<String, String>) methodContext.get("params");
        log.info("params:" + params);
        if (params.get("STATUS") == null) {
            throw new BusinessException("Parameter STATUS is required");
        }
        if (params.get("PAYID") == null) {
            throw new BusinessException("Parameter PAYID is required");
        }
        PaymentStatusEnum paymentStatus = PaymentStatusEnum.ACCEPTED;
        if (!"9".equals(params.get("STATUS"))) {
            paymentStatus = PaymentStatusEnum.REJECTED;
        }
        paymentService.paymentCallback(params.get("PAYID"), paymentStatus, params.get("NCERROR"), params.get("NCERROR"));
    }

}
		');]]></sql>		
		
		 <sql><![CDATA[INSERT INTO ${db.schema.adapted}ar_payment_gateway VALUES (-10, 0, 0, now(), NULL, 'customGatewayDemo', 'A customGateway for Demo', 'CUSTOM', 'CARD', NULL, NULL, -10, NULL, NULL,
		  '3bb099a3-e72d-49ea-9d96-908e74569e02', 'opencell.admin', NULL, NULL, NULL, NULL, NULL, NULL);]]></sql>	
		  
		  <sql><![CDATA[INSERT INTO ${db.schema.adapted}adm_notification VALUES (-10, 0, 0, now(), NULL, 'PaymentCallBack', NULL, 'org.meveo.model.notification.InboundRequest', 
		  '#{event.pathInfo.startsWith("/DEMO/custom_payment-callback?")}', 'INBOUND_REQ', 'opencell.admin', NULL, NULL, NULL, -11, 0);]]></sql>	

<sql><![CDATA[INSERT INTO ${db.schema.adapted}adm_notification_params VALUES (-10, '#{event.getParameters()}', 'params');]]></sql>	
<sql><![CDATA[INSERT INTO ${db.schema.adapted}meveo_job_instance VALUES (-16, 6, 0, now(), now(), 'PaymentCard_Job', NULL, 'ACCOUNT_RECEIVABLES',
 'PaymentJob', NULL, 'opencell.admin', 'opencell.admin', NULL, NULL, '2c72550b-4e79-4dab-a8bd-df8499abd25b', NULL, 1, '{"PaymentJob_creditOrDebit":[{"string":"Credit"}],"waitingMillis":[{"long":0}],
 "PaymentJob_matchingAO":[{"string":"YES"}],"PaymentJob_cardOrDD":[{"string":"CARD"}],"PaymentJob_createAO":[{"string":"YES"}],"nbRuns":[{"long":1}],"PaymentJob_AOorCA":[{"string":"CA"}]}', NULL);]]></sql>	
<sql><![CDATA[INSERT INTO ${db.schema.adapted}meveo_job_instance VALUES (-17, 3, 0, now(), now(), 'RefundCard_Job', NULL, 'ACCOUNT_RECEIVABLES', 'PaymentJob',
 NULL, 'opencell.admin', 'opencell.admin', NULL, NULL, 'a4bb9554-85f3-4c0a-8f62-438fec7bdac2', NULL, 1, '{"PaymentJob_creditOrDebit":[{"string":"Debit"}],"waitingMillis":[{"long":0}],
 "PaymentJob_matchingAO":[{"string":"YES"}],"PaymentJob_cardOrDD":[{"string":"CARD"}],"PaymentJob_createAO":[{"string":"YES"}],"nbRuns":[{"long":1}],"PaymentJob_AOorCA":[{"string":"CA"}]}', NULL);]]></sql>	

<sql><![CDATA[ UPDATE ${db.schema.adapted}ar_payment_gateway set application_el ='#{"is already setup" eq "OK"}' where code <> 'customGatewayDemo';]]></sql>	
		  
		</changeSet>
		
	<changeSet id="#3328_20180705" author="EdwardPLegaspi">
		<insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-3"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="FULL_HIERARCHY"/>
            <column name="description" value="Full hierarchy export"/>
            <column name="category" value="customer"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="hierarchy-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="FULL_HIERARCHY_UUID"></column>
            <column name="sql_query">
select s.code AS "Seller code"
	, s.description AS "Seller description"
	, coalesce(ce.code, '') AS "Customer code"
	, coalesce(replace(ce.description, ',', ' '), '') AS "Customer description"
	, coalesce(cae.code, '') AS "Customer Account code"
	, coalesce(replace(cae.description, ',', ' '), '') AS "Customer Account description"
	, coalesce(bae.code, '') AS "Billing Account code"
	, coalesce(replace(bae.description, ',', ' '), '') AS "Billing Account description"
	, coalesce(uae.code, '') AS "User Account code"
	, coalesce(replace(uae.description, ',', ' '), '') AS "User Account description"
	, coalesce(su.code, '') AS "Subscription code"
	, coalesce(replace(su.description, ',', ' '), '') AS "Subscription description"
	, coalesce(ap.acces_user_id, '') AS "Access Point id"  
from  ${db.schema.adapted}crm_seller s left
	OUTER JOIN ${db.schema.adapted}crm_customer c  on c.seller_id = s.id left
	OUTER JOIN ${db.schema.adapted}account_entity ce  on c.id = ce.id left
	OUTER JOIN ${db.schema.adapted}ar_customer_account ca  on ca.customer_id = c.id left
	OUTER JOIN ${db.schema.adapted}account_entity cae  on ca.id = cae.id left
	OUTER JOIN ${db.schema.adapted}billing_billing_account ba  on ba.customer_account_id = ca.id left
	OUTER JOIN ${db.schema.adapted}account_entity bae  on ba.id = bae.id left
	OUTER JOIN ${db.schema.adapted}billing_user_account ua  on ua.billing_account_id = ba.id left
	OUTER JOIN ${db.schema.adapted}account_entity uae  on ua.id = uae.id left
	OUTER JOIN ${db.schema.adapted}billing_subscription su  on su.user_account_id = ua.id left
	OUTER JOIN ${db.schema.adapted}medina_access ap  on ap.subscription_id = su.id 
where s.code ilike '%' || :SEARCH_CRITERION || '%'  or s.description ilike '%' 
	|| :SEARCH_CRITERION || '%'  or ce.code ilike '%' || :SEARCH_CRITERION 
	|| '%'  or ce.description ilike '%' || :SEARCH_CRITERION || '%'  or cae.code ilike '%' 
	|| :SEARCH_CRITERION || '%'  or cae.description ilike '%' || :SEARCH_CRITERION 
	|| '%'  or bae.code ilike '%' || :SEARCH_CRITERION || '%'  or bae.description ilike '%' 
	|| :SEARCH_CRITERION || '%'  or uae.code ilike '%' || :SEARCH_CRITERION 
	|| '%'  or uae.description ilike '%' || :SEARCH_CRITERION || '%'  or su.code ilike '%' 
	|| :SEARCH_CRITERION || '%'  or su.description ilike '%' || :SEARCH_CRITERION 
	|| '%'  or ap.acces_user_id ilike '%' || :SEARCH_CRITERION || '%'  
order by s.code
	,ce.code
	,cae.code
	,bae.code
	,uae.code
	,su.code
	,ap.acces_user_id 
			</column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-3"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-4"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="CUSTOMERS_PER_SELLER"/>
            <column name="description" value="Customers per seller"/>
            <column name="category" value="customer"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="customers_per_seller-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="CUSTOMERS_PER_SELLER_UUID"></column>
            <column name="sql_query">
select s.code AS "Seller code"
	, s.description AS "Seller description"
	, coalesce(ce.code, '') AS "Customer code"
	, coalesce(replace(ce.description, ',', ' '), '') AS "Customer description"  
from  ${db.schema.adapted}crm_seller s left
	OUTER JOIN ${db.schema.adapted}crm_customer c  on c.seller_id = s.id left
	OUTER JOIN ${db.schema.adapted}account_entity ce  on c.id = ce.id 
where(  s.code ilike '%' || :SEARCH_CRITERION 
	|| '%'  or s.description ilike '%' || :SEARCH_CRITERION || '%'  or ce.code ilike '%' 
	|| :SEARCH_CRITERION || '%'  or ce.description ilike '%' || :SEARCH_CRITERION || '%'  )  
and (  s.code ilike '%' || :SELLER || '%'  or s.description ilike '%' || :SELLER || '%'  )  
order by s.code
	,ce.code 
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-4"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-4"></column>
            <column name="params_key" value="SELLER"></column>
            <column name="params" value="%"></column>
        </insert>
        
		<!-- Invoiced -->
		<insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-5"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="INVOICED_GLOBAL"/>
            <column name="description" value="Total invoiced amount per month for interval (ex: last 12 months = -12 month)"/>
            <column name="category" value="invoiced"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="invoiced_global-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="INVOICED_GLOBAL_UUID"></column>
            <column name="sql_query">
select trim(to_char(date_trunc('month', i.invoice_date), 'Month')) || to_char(date_trunc('month', i.invoice_date), ' YYYY') AS "Month"
	, it.code AS "Invoice type code"
	, it.description AS "Invoice type description"
	, trim(to_char(sum(i.amount_without_tax), '9999999990.00')) AS "Amount without tax"
	, trim(to_char(sum(i.amount_with_tax), '9999999990.00')) AS "Amount with tax"  
from ${db.schema.adapted}billing_invoice i 
	INNER JOIN ${db.schema.adapted}billing_invoice_type it  on it.id = i.invoice_type_id 
where i.invoice_date > (date_trunc('month', CURRENT_DATE) - CAST(:MONTH_INTERVAL || ' month' AS INTERVAL))  
group by date_trunc('month', i.invoice_date)
	, it.code
	, it.description order by date_trunc('month', i.invoice_date) DESC
	, it.code DESC
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-5"></column>
            <column name="params_key" value="MONTH_INTERVAL"></column>
            <column name="params" value="12"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-6"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="INVOICED_BA_HIERARCHY"/>
            <column name="description" value="Invoiced per Billing Account with hierarchy per month for interval, global filter"/>
            <column name="category" value="invoiced"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="invoiced_per_billing_account_hierarchy-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="INVOICED_BA_HIERARCHY_UUID"></column>
            <column name="sql_query">
select trim(to_char(date_trunc('month', i.invoice_date), 'Month')) || to_char(date_trunc('month', i.invoice_date), ' YYYY') AS "Month"
	, s.code AS "Seller code"
	, s.description AS "Seller description"
	, ce.code AS "Customer code"
	, ce.description AS "Customer description"
	, cae.code AS "Customer Account code"
	, cae.description AS "Customer Account description"
	, bae.code AS "Billing Account code"
	, bae.description AS "Billing Account description"
	, it.code AS "Invoice type code"
	, it.description AS "Invoice type description"
	, to_char(sum(i.amount_without_tax), '9999999990.00') AS "Amount without tax"
	, to_char(sum(i.amount_with_tax), '9999999990.00') AS "Amount with tax"  
from ${db.schema.adapted}crm_seller s 
	INNER JOIN ${db.schema.adapted}crm_customer c  on c.seller_id = s.id
	INNER JOIN ${db.schema.adapted}account_entity ce  on c.id = ce.id
	INNER JOIN ${db.schema.adapted}ar_customer_account ca  on ca.customer_id = c.id
	INNER JOIN ${db.schema.adapted}account_entity cae  on ca.id = cae.id
	INNER JOIN ${db.schema.adapted}billing_billing_account ba  on ba.customer_account_id = ca.id
	INNER JOIN ${db.schema.adapted}account_entity bae  on ba.id = bae.id
	INNER JOIN ${db.schema.adapted}billing_invoice i  on i.billing_account_id = ba.id
	INNER JOIN ${db.schema.adapted}billing_invoice_type it  on it.id = i.invoice_type_id 
where i.invoice_date > (date_trunc('month', CURRENT_DATE) - CAST(:MONTH_INTERVAL || ' month' AS INTERVAL))  
and(  s.code ilike '%' || :SEARCH_CRITERION || '%'  or s.description ilike '%' || :SEARCH_CRITERION 
	|| '%'  or ce.code ilike '%' || :SEARCH_CRITERION || '%'  or ce.description ilike '%' || :SEARCH_CRITERION 
	|| '%'  or cae.code ilike '%' || :SEARCH_CRITERION || '%'  or cae.description ilike '%' || :SEARCH_CRITERION 
	|| '%'  or bae.code ilike '%' || :SEARCH_CRITERION || '%'  or bae.description ilike '%' || :SEARCH_CRITERION 
	|| '%'  )  group by date_trunc('month', i.invoice_date)
	, it.code
	, it.description
	, s.code
	, s.description
	, ce.code
	, ce.description
	, cae.code
	, cae.description
	, bae.code
	, bae.description order by date_trunc('month', i.invoice_date) DESC
	, it.code DESC
	, s.code
	, ce.code
	, cae.code
	, bae.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-6"></column>
            <column name="params_key" value="MONTH_INTERVAL"></column>
            <column name="params" value="12"></column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-6"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-7"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="INVOICED_BA"/>
            <column name="description" value="Invoiced per Billing Account per month for interval, global filter"/>
            <column name="category" value="invoiced"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="invoiced_per_billing_account-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="INVOICED_BA_UUID"></column>
            <column name="sql_query">
select trim(to_char(date_trunc('month', i.invoice_date), 'Month')) || to_char(date_trunc('month', i.invoice_date), ' YYYY') AS "Month"
	, bae.code AS "Billing Account code"
	, bae.description AS "Billing Account description"
	, it.code AS "Invoice type code"
	, it.description AS "Invoice type description"
	, to_char(sum(i.amount_without_tax), '9999999990.00') AS "Amount without tax"
	, to_char(sum(i.amount_with_tax), '9999999990.00') AS "Amount with tax"  
from ${db.schema.adapted}crm_seller s
	INNER JOIN ${db.schema.adapted}crm_customer c  on c.seller_id = s.id
	INNER JOIN ${db.schema.adapted}ar_customer_account ca  on ca.customer_id = c.id
	INNER JOIN ${db.schema.adapted}billing_billing_account ba  on ba.customer_account_id = ca.id
	INNER JOIN ${db.schema.adapted}account_entity bae  on ba.id = bae.id
	INNER JOIN ${db.schema.adapted}billing_invoice i  on i.billing_account_id = ba.id
	INNER JOIN ${db.schema.adapted}billing_invoice_type it  on it.id = i.invoice_type_id 
where i.invoice_date > (date_trunc('month', CURRENT_DATE) - CAST(:MONTH_INTERVAL || ' month' AS INTERVAL))  
and(  bae.code ilike '%' || :SEARCH_CRITERION || '%'  or bae.description ilike '%' || :SEARCH_CRITERION || '%'  )  
group by date_trunc('month', i.invoice_date)
	, it.code
	, it.description
	, bae.code
	, bae.description order by date_trunc('month', i.invoice_date) DESC
	, it.code DESC
	, bae.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-7"></column>
            <column name="params_key" value="MONTH_INTERVAL"></column>
            <column name="params" value="12"></column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-7"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-8"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="INVOICED_CA"/>
            <column name="description" value="Invoiced per Customer Account per month for interval, global filter"/>
            <column name="category" value="invoiced"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="invoiced_per_customer_account-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="INVOICED_CA_UUID"></column>
            <column name="sql_query">
select trim(to_char(date_trunc('month', i.invoice_date), 'Month')) || to_char(date_trunc('month', i.invoice_date), ' YYYY') AS "Month"
	, cae.code AS "Customer Account code"
	, cae.description AS "Customer Account description"
	, it.code AS "Invoice type code"
	, it.description AS "Invoice type description"
	, to_char(sum(i.amount_without_tax), '9999999990.00') AS "Amount without tax"
	, to_char(sum(i.amount_with_tax), '9999999990.00') AS "Amount with tax"  
from ${db.schema.adapted}crm_seller s
	INNER JOIN ${db.schema.adapted}crm_customer c  on c.seller_id = s.id
	INNER JOIN ${db.schema.adapted}ar_customer_account ca  on ca.customer_id = c.id
	INNER JOIN ${db.schema.adapted}account_entity cae  on ca.id = cae.id
	INNER JOIN ${db.schema.adapted}billing_billing_account ba  on ba.customer_account_id = ca.id
	INNER JOIN ${db.schema.adapted}billing_invoice i  on i.billing_account_id = ba.id
	INNER JOIN ${db.schema.adapted}billing_invoice_type it  on it.id = i.invoice_type_id 
where i.invoice_date > (date_trunc('month', CURRENT_DATE) - CAST(:MONTH_INTERVAL || ' month' AS INTERVAL))  
and(  cae.code ilike '%' || :SEARCH_CRITERION || '%'  or cae.description ilike '%' || :SEARCH_CRITERION || '%'  )  
group by date_trunc('month', i.invoice_date)
	, it.code
	, it.description
	, cae.code
	, cae.description order by date_trunc('month', i.invoice_date) DESC
	, it.code DESC
	, cae.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-8"></column>
            <column name="params_key" value="MONTH_INTERVAL"></column>
            <column name="params" value="12"></column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-8"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-9"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="INVOICED_C"/>
            <column name="description" value="Invoiced per Customer per month for interval, global filter"/>
            <column name="category" value="invoiced"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="invoiced_per_customer-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="INVOICED_C_UUID"></column>
            <column name="sql_query">
select trim(to_char(date_trunc('month', i.invoice_date), 'Month')) || to_char(date_trunc('month', i.invoice_date), ' YYYY') AS "Month"
	, ce.code AS "Customer code"
	, ce.description AS "Customer description"
	, it.code AS "Invoice type code"
	, it.description AS "Invoice type description"
	, to_char(sum(i.amount_without_tax), '9999999990.00') AS "Amount without tax"
	, to_char(sum(i.amount_with_tax), '9999999990.00') AS "Amount with tax"  
from ${db.schema.adapted}crm_seller s
	INNER JOIN ${db.schema.adapted}crm_customer c  on c.seller_id = s.id
	INNER JOIN ${db.schema.adapted}account_entity ce  on c.id = ce.id
	INNER JOIN ${db.schema.adapted}ar_customer_account ca  on ca.customer_id = c.id
	INNER JOIN ${db.schema.adapted}billing_billing_account ba  on ba.customer_account_id = ca.id
	INNER JOIN ${db.schema.adapted}billing_invoice i  on i.billing_account_id = ba.id
	INNER JOIN ${db.schema.adapted}billing_invoice_type it  on it.id = i.invoice_type_id 
where i.invoice_date > (date_trunc('month', CURRENT_DATE) - CAST(:MONTH_INTERVAL || ' month' AS INTERVAL))  
and(  ce.code ilike '%' || :SEARCH_CRITERION || '%'  or ce.description ilike '%' || :SEARCH_CRITERION || '%'  )  
group by date_trunc('month', i.invoice_date)
	, it.code
	, it.description
	, ce.code
	, ce.description order by date_trunc('month', i.invoice_date) DESC
	, it.code DESC
	, ce.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-9"></column>
            <column name="params_key" value="MONTH_INTERVAL"></column>
            <column name="params" value="12"></column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-9"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-10"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="INVOICED_S"/>
            <column name="description" value="Invoiced per Seller per month for interval, global filter"/>
            <column name="category" value="invoiced"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="invoiced_per_seller-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="INVOICED_S_UUID"></column>
            <column name="sql_query">
select trim(to_char(date_trunc('month', i.invoice_date), 'Month')) || to_char(date_trunc('month', i.invoice_date), ' YYYY') AS  Month 
	, s.code AS  "Seller code"
	, s.description AS  "Seller description"
	, it.code AS  "Invoice type code"
	, it.description AS  "Invoice type description"
	, to_char(sum(i.amount_without_tax), '9999999990.00') AS  "Amount without tax"
	, to_char(sum(i.amount_with_tax), '9999999990.00') AS  "Amount with tax"   
from ${db.schema.adapted}crm_seller s
	INNER JOIN ${db.schema.adapted}crm_customer c  on c.seller_id = s.id
	INNER JOIN ${db.schema.adapted}ar_customer_account ca  on ca.customer_id = c.id
	INNER JOIN ${db.schema.adapted}billing_billing_account ba  on ba.customer_account_id = ca.id
	INNER JOIN ${db.schema.adapted}billing_invoice i  on i.billing_account_id = ba.id
	INNER JOIN ${db.schema.adapted}billing_invoice_type it  on it.id = i.invoice_type_id 
where i.invoice_date > (date_trunc('month', CURRENT_DATE) - CAST(:MONTH_INTERVAL || 'month' AS INTERVAL))  
and(  s.code ilike '%' || :SEARCH_CRITERION || '%'  or s.description ilike '%' || :SEARCH_CRITERION || '%'  )  
group by date_trunc('month', i.invoice_date)
	, it.code
	, it.description
	, s.code
	, s.description order by date_trunc('month', i.invoice_date) DESC
	, it.code DESC
	, s.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-10"></column>
            <column name="params_key" value="MONTH_INTERVAL"></column>
            <column name="params" value="12"></column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-10"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-11"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="INVOICED_OF"/>
            <column name="description" value="Invoiced per Offer per month for interval, global filter"/>
            <column name="category" value="invoiced"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="invoiced_per_offer-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="INVOICED_OF_UUID"></column>
            <column name="sql_query">
select trim(to_char(date_trunc('month', i.invoice_date), 'Month')) || to_char(date_trunc('month', i.invoice_date), ' YYYY') AS "Month"
	, of.code AS "Offer code"
	, of.description AS "Offer description"
	, it.code AS "Invoice type code"
	, it.description AS "Invoice type description"
	, to_char(sum(rt.amount_without_tax), '9999999990.00') AS "Amount without tax"
	, to_char(sum(rt.amount_with_tax), '9999999990.00') AS "Amount with tax"  
from ${db.schema.adapted}cat_offer_template of
	INNER JOIN ${db.schema.adapted}billing_wallet_operation wo  on wo.offer_code = OF.code
	INNER JOIN ${db.schema.adapted}billing_rated_transaction rt  on rt.wallet_operation_id = wo.id
	INNER JOIN ${db.schema.adapted}billing_invoice i  on i.id = rt.invoice_id
	INNER JOIN ${db.schema.adapted}billing_invoice_type it  on it.id = i.invoice_type_id 
where i.invoice_date > (date_trunc('month', CURRENT_DATE) - CAST(:MONTH_INTERVAL || ' month' AS INTERVAL))  
and(  of.code ilike '%' || :SEARCH_CRITERION || '%'  or OF.description ilike '%' || :SEARCH_CRITERION || '%'  )  
group by date_trunc('month', i.invoice_date)
	, it.code
	, it.description
	, of.code
	, of.description order by date_trunc('month', i.invoice_date) DESC
	, it.code DESC
	, of.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-11"></column>
            <column name="params_key" value="MONTH_INTERVAL"></column>
            <column name="params" value="12"></column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-11"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
		<!-- Recorded Invoice -->
		<insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-12"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="RECORDED_GLOBAL"/>
            <column name="description" value="Recorded invoices per month for interval, global filter"/>
            <column name="category" value="recorded"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="recorded_global-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="RECORDED_GLOBAL_UUID"></column>
            <column name="sql_query">
SELECT trim(to_char(date_trunc('month', ao.invoice_date), 'Month')) || to_char(date_trunc('month', ao.invoice_date), ' YYYY') AS "Month"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'DEBIT'
					THEN ao.amount
				ELSE 0
				END), '99999999990.00') AS "Amount DEBIT"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'CREDIT'
					THEN ao.amount
				ELSE 0
				END), '99999999990.00') AS "Amount CREDIT"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'DEBIT'
					THEN ao.amount
				ELSE - ao.amount
				END), '99999999990.00') AS "Balance"
FROM ${db.schema.adapted}ar_account_operation ao
WHERE ao.invoice_date IS NOT NULL
AND ao.invoice_date > (date_trunc('month', CURRENT_DATE) - CAST(:MONTH_INTERVAL || ' month' AS INTERVAL))
GROUP BY date_trunc('month', ao.invoice_date)
ORDER BY date_trunc('month', ao.invoice_date) DESC
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-12"></column>
            <column name="params_key" value="MONTH_INTERVAL"></column>
            <column name="params" value="12"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-13"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="RECORDED_BA_HIERARCHY"/>
            <column name="description" value="Recorded per Billing Account with Hierarchy per month for interval, global filter"/>
            <column name="category" value="recorded"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="recorded_per_billing_account_hierarchy-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="RECORDED_BA_HIERARCHY_UUID"></column>
            <column name="sql_query">
SELECT trim(to_char(date_trunc('month', ao.invoice_date), 'Month')) || to_char(date_trunc('month', ao.invoice_date), ' YYYY') AS "Month"
	,s.code AS "Seller code"
	,s.description AS "Seller description"
	,ce.code AS "Customer code"
	,ce.description AS "Customer description"
	,cae.code AS "Customer Account code"
	,cae.description AS "Customer Account description"
	,bae.code AS "Billing Account code"
	,bae.description AS "Billing Account description"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'DEBIT'
					THEN ao.amount
				ELSE 0
				END), '99999999990.00') AS "Amount DEBIT"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'CREDIT'
					THEN ao.amount
				ELSE 0
				END), '99999999990.00') AS "Amount CREDIT"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'DEBIT'
					THEN ao.amount
				ELSE - ao.amount
				END), '99999999990.00') AS "Balance"
FROM ${db.schema.adapted}crm_seller s
	INNER JOIN ${db.schema.adapted}crm_customer c ON c.seller_id = s.id
	INNER JOIN ${db.schema.adapted}account_entity ce ON c.id = ce.id
	INNER JOIN ${db.schema.adapted}ar_customer_account ca ON ca.customer_id = c.id
	INNER JOIN ${db.schema.adapted}account_entity cae ON ca.id = cae.id
	INNER JOIN ${db.schema.adapted}billing_billing_account ba ON ba.customer_account_id = ca.id
	INNER JOIN ${db.schema.adapted}account_entity bae ON ba.id = bae.id
	INNER JOIN ${db.schema.adapted}billing_invoice i ON i.billing_account_id = ba.id
	INNER JOIN ${db.schema.adapted}ar_account_operation ao ON ao.customer_account_id = ca.id
		AND ao.reference = i.invoice_number
		AND ao.invoice_date = i.invoice_date
		AND ao.amount = abs(i.amount_with_tax)
WHERE ao.invoice_date IS NOT NULL
	AND ao.invoice_date > (date_trunc('month', CURRENT_DATE) - CAST(:MONTH_INTERVAL || ' month' AS INTERVAL))
	AND (
		s.code ilike '%' || :SEARCH_CRITERION || '%'
		OR s.description ilike '%' || :SEARCH_CRITERION || '%'
		OR ce.code ilike '%' || :SEARCH_CRITERION || '%'
		OR ce.description ilike '%' || :SEARCH_CRITERION || '%'
		OR cae.code ilike '%' || :SEARCH_CRITERION || '%'
		OR cae.description ilike '%' || :SEARCH_CRITERION || '%'
		OR bae.code ilike '%' || :SEARCH_CRITERION || '%'
		OR bae.description ilike '%' || :SEARCH_CRITERION || '%'
		)
GROUP BY date_trunc('month', ao.invoice_date)
	,s.code
	,s.description
	,ce.code
	,ce.description
	,cae.code
	,cae.description
	,bae.code
	,bae.description
ORDER BY date_trunc('month', ao.invoice_date) DESC
	,s.code
	,ce.code
	,cae.code
	,bae.code
            </column>
        </insert>
        
         <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-13"></column>
            <column name="params_key" value="MONTH_INTERVAL"></column>
            <column name="params" value="12"></column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-13"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-14"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="RECORDED_BA"/>
            <column name="description" value="Recorded per Billing Account per month for interval, global filter"/>
            <column name="category" value="recorded"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="recorded_per_billing_account-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="RECORDED_BA_UUID"></column>
            <column name="sql_query">
SELECT trim(to_char(date_trunc('month', ao.invoice_date), 'Month')) || to_char(date_trunc('month', ao.invoice_date), ' YYYY') AS "Month"
	,bae.code AS "Billing Account code"
	,bae.description AS "Billing Account description"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'DEBIT'
					THEN ao.amount
				ELSE 0
				END), '99999999990.00') AS "Amount DEBIT"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'CREDIT'
					THEN ao.amount
				ELSE 0
				END), '99999999990.00') AS "Amount CREDIT"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'DEBIT'
					THEN ao.amount
				ELSE - ao.amount
				END), '99999999990.00') AS "Balance"
FROM ${db.schema.adapted}crm_seller s
	INNER JOIN ${db.schema.adapted}crm_customer c ON c.seller_id = s.id
	INNER JOIN ${db.schema.adapted}ar_customer_account ca ON ca.customer_id = c.id
	INNER JOIN ${db.schema.adapted}billing_billing_account ba ON ba.customer_account_id = ca.id
	INNER JOIN ${db.schema.adapted}account_entity bae ON ba.id = bae.id
	INNER JOIN ${db.schema.adapted}billing_invoice i ON i.billing_account_id = ba.id
	INNER JOIN ${db.schema.adapted}ar_account_operation ao ON ao.customer_account_id = ca.id
		AND ao.reference = i.invoice_number
		AND ao.invoice_date = i.invoice_date
		AND ao.amount = abs(i.amount_with_tax)
WHERE ao.invoice_date IS NOT NULL
	AND ao.invoice_date > (date_trunc('month', CURRENT_DATE) - CAST(:MONTH_INTERVAL || ' month' AS INTERVAL))
	AND (
		bae.code ilike '%' || :SEARCH_CRITERION || '%'
		OR bae.description ilike '%' || :SEARCH_CRITERION || '%'
		)
GROUP BY date_trunc('month', ao.invoice_date)
	,bae.code
	,bae.description
ORDER BY date_trunc('month', ao.invoice_date) DESC
	,bae.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-14"></column>
            <column name="params_key" value="MONTH_INTERVAL"></column>
            <column name="params" value="12"></column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-14"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-15"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="RECORDED_CA"/>
            <column name="description" value="Recorded per Customer Account per month for interval, global filter"/>
            <column name="category" value="recorded"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="recorded_per_customer_account-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="RECORDED_CA_UUID"></column>
            <column name="sql_query">
SELECT trim(to_char(date_trunc('month', ao.invoice_date), 'Month')) || to_char(date_trunc('month', ao.invoice_date), ' YYYY') AS "Month"
	,cae.code AS "Customer Account code"
	,cae.description AS "Customer Account description"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'DEBIT'
					THEN ao.amount
				ELSE 0
				END), '99999999990.00') AS "Amount DEBIT"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'CREDIT'
					THEN ao.amount
				ELSE 0
				END), '99999999990.00') AS "Amount CREDIT"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'DEBIT'
					THEN ao.amount
				ELSE - ao.amount
				END), '99999999990.00') AS "Balance"
FROM ${db.schema.adapted}crm_seller s
	INNER JOIN ${db.schema.adapted}crm_customer c ON c.seller_id = s.id
	INNER JOIN ${db.schema.adapted}ar_customer_account ca ON ca.customer_id = c.id
	INNER JOIN ${db.schema.adapted}account_entity cae ON ca.id = cae.id
	INNER JOIN ${db.schema.adapted}ar_account_operation ao ON ao.customer_account_id = ca.id
WHERE ao.invoice_date IS NOT NULL
	AND ao.invoice_date > (date_trunc('month', CURRENT_DATE) - CAST(:MONTH_INTERVAL || ' month' AS INTERVAL))
	AND (
		cae.code ilike '%' || :SEARCH_CRITERION || '%'
		OR cae.description ilike '%' || :SEARCH_CRITERION || '%'
		)
GROUP BY date_trunc('month', ao.invoice_date)
	,cae.code
	,cae.description
ORDER BY date_trunc('month', ao.invoice_date) DESC
	,cae.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-15"></column>
            <column name="params_key" value="MONTH_INTERVAL"></column>
            <column name="params" value="12"></column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-15"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-16"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="RECORDED_C"/>
            <column name="description" value="Recorded per Customer per month for interval, global filter"/>
            <column name="category" value="recorded"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="recorded_per_customer-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="RECORDED_C_UUID"></column>
            <column name="sql_query">
SELECT trim(to_char(date_trunc('month', ao.invoice_date), 'Month')) || to_char(date_trunc('month', ao.invoice_date), ' YYYY') AS "Month"
	,ce.code AS "Customer code"
	,ce.description AS "Customer description"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'DEBIT'
					THEN ao.amount
				ELSE 0
				END), '99999999990.00') AS "Amount DEBIT"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'CREDIT'
					THEN ao.amount
				ELSE 0
				END), '99999999990.00') AS "Amount CREDIT"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'DEBIT'
					THEN ao.amount
				ELSE - ao.amount
				END), '99999999990.00') AS "Balance"
FROM ${db.schema.adapted}crm_seller s
	INNER JOIN ${db.schema.adapted}crm_customer c ON c.seller_id = s.id
	INNER JOIN ${db.schema.adapted}account_entity ce ON c.id = ce.id
	INNER JOIN ${db.schema.adapted}ar_customer_account ca ON ca.customer_id = c.id
	INNER JOIN ${db.schema.adapted}ar_account_operation ao ON ao.customer_account_id = ca.id
WHERE ao.invoice_date IS NOT NULL
	AND ao.invoice_date > (date_trunc('month', CURRENT_DATE) - CAST(:MONTH_INTERVAL || ' month' AS INTERVAL))
	AND (
		ce.code ilike '%' || :SEARCH_CRITERION || '%'
		OR ce.description ilike '%' || :SEARCH_CRITERION || '%'
		)
GROUP BY date_trunc('month', ao.invoice_date)
	,ce.code
	,ce.description
ORDER BY date_trunc('month', ao.invoice_date) DESC
	,ce.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-16"></column>
            <column name="params_key" value="MONTH_INTERVAL"></column>
            <column name="params" value="12"></column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-16"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-17"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="RECORDED_S"/>
            <column name="description" value="Recorded per Seller per month for interval, global filter"/>
            <column name="category" value="recorded"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="recorded_per_seller-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="RECORDED_S_UUID"></column>
            <column name="sql_query">
SELECT trim(to_char(date_trunc('month', ao.invoice_date), 'Month')) || to_char(date_trunc('month', ao.invoice_date), ' YYYY') AS "Month"
	,s.code AS "Seller code"
	,s.description AS "Seller description"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'DEBIT'
					THEN ao.amount
				ELSE 0
				END), '99999999990.00') AS "Amount DEBIT"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'CREDIT'
					THEN ao.amount
				ELSE 0
				END), '99999999990.00') AS "Amount CREDIT"
	,to_char(sum(CASE 
				WHEN ao.transaction_category = 'DEBIT'
					THEN ao.amount
				ELSE - ao.amount
				END), '99999999990.00') AS "Balance"
FROM ${db.schema.adapted}crm_seller s
	INNER JOIN ${db.schema.adapted}crm_customer c ON c.seller_id = s.id
	INNER JOIN ${db.schema.adapted}ar_customer_account ca ON ca.customer_id = c.id
	INNER JOIN ${db.schema.adapted}ar_account_operation ao ON ao.customer_account_id = ca.id
WHERE ao.invoice_date IS NOT NULL
	AND ao.invoice_date > (date_trunc('month', CURRENT_DATE) - CAST(:MONTH_INTERVAL || ' month' AS INTERVAL))
	AND (
		s.code ilike '%' || :SEARCH_CRITERION || '%'
		OR s.description ilike '%' || :SEARCH_CRITERION || '%'
		)
GROUP BY date_trunc('month', ao.invoice_date)
	,s.code
	,s.description
ORDER BY date_trunc('month', ao.invoice_date) DESC
	,s.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-17"></column>
            <column name="params_key" value="MONTH_INTERVAL"></column>
            <column name="params" value="12"></column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-17"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>

		<!-- UnBilled -->
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-18"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="UNBILLED_UA_HIERARCHY"/>
            <column name="description" value="Unbilled per User Account with Hierarchy, global filter"/>
            <column name="category" value="unbilled"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="unbilled_per_user_account_hierarchy-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="UNBILLED_UA_HIERARCHY_UUID"></column>
            <column name="sql_query">
select s.code AS "Seller code"
	, s.description AS "Seller description"
	, ce.code AS "Customer code"
	, ce.description AS "Customer description"
	, cae.code AS "Customer Account code"
	, cae.description AS "Customer Account description"
	, bae.code AS "Billing Account code"
	, bae.description AS "Billing Account description"
	, uae.code AS "User Account code"
	, uae.description AS "User Account description"
	, count(DISTINCT wo.id) AS "Transaction count"
	, to_char(sum(wo.amount_without_tax), '99999999990.00') AS "Amount without tax"
	, to_char(sum(wo.amount_with_tax), '99999999990.00') AS "Amount with tax"  
from  ${db.schema.adapted}billing_wallet_operation wo 
	INNER JOIN ${db.schema.adapted}billing_wallet wa  on wa.id = wo.wallet_id 
	INNER JOIN ${db.schema.adapted}billing_user_account ua  on ua.id = wa.user_account_id 
	INNER JOIN ${db.schema.adapted}account_entity uae  on ua.id = uae.id 
	INNER JOIN ${db.schema.adapted}billing_billing_account ba  on ba.id = ua.billing_account_id 
	INNER JOIN ${db.schema.adapted}account_entity bae  on ba.id = bae.id 
	INNER JOIN ${db.schema.adapted}ar_customer_account ca  on ca.id = ba.customer_account_id 
	INNER JOIN ${db.schema.adapted}account_entity cae  on ca.id = cae.id 
	INNER JOIN ${db.schema.adapted}crm_customer c  on c.id = ca.customer_id 
	INNER JOIN ${db.schema.adapted}account_entity ce  on c.id = ce.id 
	INNER JOIN ${db.schema.adapted}crm_seller s  on s.id = c.seller_id 
where  (  wo.STATUS = 'OPEN'  or (  wo.STATUS = 'TREATED' 
	and EXISTS (  select 1 from billing_rated_transaction rt where rt.wallet_operation_id = wo.id  and rt.STATUS = 'OPEN' )  )  )  
and(  s.code ilike '%' || :SEARCH_CRITERION || '%'  or s.description ilike '%' || :SEARCH_CRITERION || '%'  or ce.code ilike '%' 
	|| :SEARCH_CRITERION || '%'  or ce.description ilike '%' || :SEARCH_CRITERION || '%'  or cae.code ilike '%' 
	|| :SEARCH_CRITERION || '%'  or cae.description ilike '%' || :SEARCH_CRITERION || '%'  or bae.code ilike '%' 
	|| :SEARCH_CRITERION || '%'  or bae.description ilike '%' || :SEARCH_CRITERION || '%'  or uae.code ilike '%' 
	|| :SEARCH_CRITERION || '%'  or uae.description ilike '%' || :SEARCH_CRITERION || '%'  )  
group by s.code
	, s.description
	, ce.code
	, ce.description
	, cae.code
	, cae.description
	, bae.code
	, bae.description
	, uae.code
	, uae.description order by s.code
	, ce.code
	, cae.code
	, bae.code
	, uae.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-18"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-19"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="UNBILLED_UA"/>
            <column name="description" value="Unbilled per User Account, global filter"/>
            <column name="category" value="unbilled"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="unbilled_per_user_account-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="UNBILLED_UA_UUID"></column>
            <column name="sql_query">
select uae.code AS "User Account code"
	, uae.description AS "User Account description"
	, count(DISTINCT wo.id) AS "Transaction count"
	, to_char(sum(wo.amount_without_tax), '99999999990.00') AS "Amount without tax"
	, to_char(sum(wo.amount_with_tax), '99999999990.00') AS "Amount with tax"  
from  ${db.schema.adapted}billing_wallet_operation wo 
	INNER JOIN ${db.schema.adapted}billing_wallet wa  on wa.id = wo.wallet_id 
	INNER JOIN ${db.schema.adapted}billing_user_account ua  on ua.id = wa.user_account_id 
	INNER JOIN ${db.schema.adapted}account_entity uae  on ua.id = uae.id 
	INNER JOIN ${db.schema.adapted}billing_billing_account ba  on ba.id = ua.billing_account_id 
	INNER JOIN ${db.schema.adapted}ar_customer_account ca  on ca.id = ba.customer_account_id 
	INNER JOIN ${db.schema.adapted}crm_customer c  on c.id = ca.customer_id 
	INNER JOIN ${db.schema.adapted}crm_seller s  on s.id = c.seller_id 
where  (  wo.STATUS = 'OPEN'  or (   wo.STATUS = 'TREATED'   
	and EXISTS (   select 1 from billing_rated_transaction rt where rt.wallet_operation_id = wo.id   
and rt.STATUS = 'OPEN'   )  )  )  and(  uae.code ilike '%' || :SEARCH_CRITERION || '%'  or uae.description ilike '%' 
	|| :SEARCH_CRITERION || '%'  )  
group by uae.code
	, uae.description order by uae.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-19"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-20"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="UNBILLED_BA"/>
            <column name="description" value="Unbilled per Billing Account, global filter"/>
            <column name="category" value="unbilled"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="unbilled_per_billing_account-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="UNBILLED_BA_UUID"></column>
            <column name="sql_query">
select bae.code AS "Billing Account code"
	, bae.description AS "Billing Account description"
	, count(DISTINCT wo.id) AS "Transaction count"
	, to_char(sum(wo.amount_without_tax), '99999999990.00') AS "Amount without tax"
	, to_char(sum(wo.amount_with_tax), '99999999990.00') AS "Amount with tax"  
from  ${db.schema.adapted}billing_wallet_operation wo
	INNER JOIN ${db.schema.adapted}billing_wallet wa  on wa.id = wo.wallet_id
	INNER JOIN ${db.schema.adapted}billing_user_account ua  on ua.id = wa.user_account_id
	INNER JOIN ${db.schema.adapted}billing_billing_account ba  on ba.id = ua.billing_account_id
	INNER JOIN ${db.schema.adapted}account_entity bae  on ba.id = bae.id
	INNER JOIN ${db.schema.adapted}ar_customer_account ca  on ca.id = ba.customer_account_id
	INNER JOIN ${db.schema.adapted}crm_customer c  on c.id = ca.customer_id
	INNER JOIN ${db.schema.adapted}crm_seller s  on s.id = c.seller_id 
where  (  wo.STATUS = 'OPEN'  or (  wo.STATUS = 'TREATED' 
	and EXISTS (  select 1 from billing_rated_transaction rt where rt.wallet_operation_id = wo.id  and rt.STATUS = 'OPEN' )  )  )  
	and(  bae.code ilike '%' || :SEARCH_CRITERION || '%'  or bae.description ilike '%' || :SEARCH_CRITERION || '%'  )  
group by bae.code, bae.description order by bae.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-20"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-21"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="UNBILLED_CA"/>
            <column name="description" value="Unbilled per Customer Account, global filter"/>
            <column name="category" value="unbilled"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="unbilled_per_customer_account-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="UNBILLED_CA_UUID"></column>
            <column name="sql_query">
select cae.code AS "Customer Account code"
	, cae.description AS "Customer Account description"
	, count(DISTINCT wo.id) AS "Transaction count"
	, to_char(sum(wo.amount_without_tax), '99999999990.00') AS "Amount without tax"
	, to_char(sum(wo.amount_with_tax), '99999999990.00') AS "Amount with tax"  
from  ${db.schema.adapted}billing_wallet_operation wo
	INNER JOIN ${db.schema.adapted}billing_wallet wa  on wa.id = wo.wallet_id
	INNER JOIN ${db.schema.adapted}billing_user_account ua  on ua.id = wa.user_account_id
	INNER JOIN ${db.schema.adapted}billing_billing_account ba  on ba.id = ua.billing_account_id
	INNER JOIN ${db.schema.adapted}ar_customer_account ca  on ca.id = ba.customer_account_id
	INNER JOIN ${db.schema.adapted}account_entity cae  on ca.id = cae.id
	INNER JOIN ${db.schema.adapted}crm_customer c  on c.id = ca.customer_id
	INNER JOIN ${db.schema.adapted}crm_seller s  on s.id = c.seller_id 
where  (  wo.STATUS = 'OPEN'  or (  wo.STATUS = 'TREATED' 
	and EXISTS (  select 1 from billing_rated_transaction rt where rt.wallet_operation_id = wo.id  and rt.STATUS = 'OPEN' )  )  )  
and(  cae.code ilike '%' || :SEARCH_CRITERION || '%'  or cae.description ilike '%' || :SEARCH_CRITERION || '%'  )  
group by cae.code, cae.description order by cae.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-21"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-22"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="UNBILLED_C"/>
            <column name="description" value="Unbilled per Customer, global filter"/>
            <column name="category" value="unbilled"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="unbilled_per_customer-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="UNBILLED_C_UUID"></column>
            <column name="sql_query">
select ce.code AS "Customer code"
	, ce.description AS "Customer description"
	, count(DISTINCT wo.id) AS "Transaction count"
	, to_char(sum(wo.amount_without_tax), '99999999990.00') AS "Amount without tax"
	, to_char(sum(wo.amount_with_tax), '99999999990.00') AS "Amount with tax"  
from  ${db.schema.adapted}billing_wallet_operation wo
	INNER JOIN ${db.schema.adapted}billing_wallet wa  on wa.id = wo.wallet_id
	INNER JOIN ${db.schema.adapted}billing_user_account ua  on ua.id = wa.user_account_id
	INNER JOIN ${db.schema.adapted}billing_billing_account ba  on ba.id = ua.billing_account_id 
	INNER JOIN ${db.schema.adapted}ar_customer_account ca  on ca.id = ba.customer_account_id 
	INNER JOIN ${db.schema.adapted}crm_customer c  on c.id = ca.customer_id 
	INNER JOIN ${db.schema.adapted}account_entity ce  on c.id = ce.id 
	INNER JOIN ${db.schema.adapted}crm_seller s  on s.id = c.seller_id 
where  (  wo.STATUS = 'OPEN'  or (   wo.STATUS = 'TREATED'   
	and EXISTS (   select 1 from billing_rated_transaction rt where rt.wallet_operation_id = wo.id   and rt.STATUS = 'OPEN'   )  )  )  
and(  ce.code ilike '%' || :SEARCH_CRITERION || '%'  or ce.description ilike '%' || :SEARCH_CRITERION || '%'  )  
group by ce.code, ce.description order by ce.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-22"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-23"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="UNBILLED_S"/>
            <column name="description" value="Unbilled per Seller, global filter"/>
            <column name="category" value="unbilled"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="unbilled_per_seller-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="UNBILLED_S_UUID"></column>
            <column name="sql_query">
select s.code AS "Seller code"
	, s.description AS "Seller description"
	, count(DISTINCT wo.id) AS "Transaction count"
	, to_char(sum(wo.amount_without_tax), '99999999990.00') AS "Amount without tax"
	, to_char(sum(wo.amount_with_tax), '99999999990.00') AS "Amount with tax"  
from  ${db.schema.adapted}billing_wallet_operation wo 
	INNER JOIN ${db.schema.adapted}billing_wallet wa  on wa.id = wo.wallet_id 
	INNER JOIN ${db.schema.adapted}billing_user_account ua  on ua.id = wa.user_account_id 
	INNER JOIN ${db.schema.adapted}billing_billing_account ba  on ba.id = ua.billing_account_id 
	INNER JOIN ${db.schema.adapted}ar_customer_account ca  on ca.id = ba.customer_account_id 
	INNER JOIN ${db.schema.adapted}crm_customer c  on c.id = ca.customer_id 
	INNER JOIN ${db.schema.adapted}crm_seller s  on s.id = c.seller_id 
where  (  wo.STATUS = 'OPEN'  or (  wo.STATUS = 'TREATED' 
	and EXISTS (  select 1 from billing_rated_transaction rt where rt.wallet_operation_id = wo.id  and rt.STATUS = 'OPEN' )  )  )  
and(  s.code ilike '%' || :SEARCH_CRITERION || '%'  or s.description ilike '%' || :SEARCH_CRITERION || '%'  )  
group by s.code, s.description order by s.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-23"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-24"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="UNBILLED_OF"/>
            <column name="description" value="Unbilled per Offer, global filter"/>
            <column name="category" value="unbilled"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="unbilled_per_offer-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="UNBILLED_OF_UUID"></column>
            <column name="sql_query">
select of.code AS "Offer code"
	, of.description AS "Offer description"
	, count(DISTINCT wo.id) AS "Transaction count"
	, to_char(sum(wo.amount_without_tax), '99999999990.00') AS "Amount without tax"
	, to_char(sum(wo.amount_with_tax), '99999999990.00') AS "Amount with tax"  
from  ${db.schema.adapted}cat_offer_template of 
	INNER JOIN ${db.schema.adapted}billing_wallet_operation wo  on wo.offer_code = OF.code 
where  (  wo.STATUS = 'OPEN'  or ( wo.STATUS = 'TREATED' 
	and EXISTS ( select 1  from billing_rated_transaction rt  where rt.wallet_operation_id = wo.id and rt.STATUS = 'OPEN' )  )  )  
and(  of.code ilike '%' || :SEARCH_CRITERION || '%'  or OF.description ilike '%' || :SEARCH_CRITERION || '%'  )  
group by of.code, of.description order by of.code
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-24"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
		<!-- MISC -->
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-25"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="INVOICES"/>
            <column name="description" value="Invoices per month"/>
            <column name="category" value="invoiced"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="invoices-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="INVOICES_UUID"></column>
            <column name="sql_query">
select trim(to_char(date_trunc('month', i.invoice_date), 'Month')) || to_char(date_trunc('month', i.invoice_date), ' YYYY') AS "Month"
	, to_char(i.invoice_date, 'YYYY-MM-DD') AS "Invoice date"
	, i.invoice_number AS "Invoice number"
	, to_char(i.amount_without_tax, '9999999990.00') AS "Amount without tax"
	, to_char(i.amount_with_tax, '9999999990.00') AS "Amount with tax"
	, it.code AS "Invoice type code"
	, it.description AS "Invoice type description"
	, s.code AS "Seller code"
	, s.description AS "Seller description"
	, ce.code AS "Customer code"
	, ce.description AS "Customer description"
	, cae.code AS "Customer Account code"
	, cae.description AS "Customer Account description"
	, bae.code AS "Billing Account code"
	, bae.description AS "Billing Account description"  
from ${db.schema.adapted}crm_seller s
	INNER JOIN ${db.schema.adapted}crm_customer c  on c.seller_id = s.id
	INNER JOIN ${db.schema.adapted}account_entity ce  on c.id = ce.id
	INNER JOIN ${db.schema.adapted}ar_customer_account ca  on ca.customer_id = c.id
	INNER JOIN ${db.schema.adapted}account_entity cae  on ca.id = cae.id
	INNER JOIN ${db.schema.adapted}billing_billing_account ba  on ba.customer_account_id = ca.id
	INNER JOIN ${db.schema.adapted}account_entity bae  on ba.id = bae.id
	INNER JOIN ${db.schema.adapted}billing_invoice i  on i.billing_account_id = ba.id
	INNER JOIN ${db.schema.adapted}billing_invoice_type it  on it.id = i.invoice_type_id 
where i.invoice_date > (date_trunc('month', CURRENT_DATE) - CAST(:MONTH_INTERVAL || ' month' AS INTERVAL))  
and(  s.code ilike '%' || :SEARCH_CRITERION || '%'  or s.description ilike '%' || :SEARCH_CRITERION 
	|| '%'  or ce.code ilike '%' || :SEARCH_CRITERION || '%'  or ce.description ilike '%' || :SEARCH_CRITERION 
	|| '%'  or cae.code ilike '%' || :SEARCH_CRITERION || '%'  or cae.description ilike '%' || :SEARCH_CRITERION 
	|| '%'  or bae.code ilike '%' || :SEARCH_CRITERION || '%'  or bae.description ilike '%' || :SEARCH_CRITERION 
	|| '%'  )  
order by date_trunc('month', i.invoice_date) DESC
	, i.invoice_date DESC
	, it.code
	, i.invoice_number
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-25"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-25"></column>
            <column name="params_key" value="MONTH_INTERVAL"></column>
            <column name="params" value="12"></column>
        </insert>
        
        <insert tableName="dwh_report_extract">
            <column name="id" valueNumeric="-26"/>
            <column name="version" valueNumeric="0"/>
            <column name="disabled" valueNumeric="0"/>
            <column name="created" valueDate="now()"/>
            <column name="code" value="EDR"/>
            <column name="description" value="EDR by status, global filter"/>
            <column name="category" value="edr"></column>
            <column name="script_type" value="SQL"></column>
            <column name="filename_format" value="edr_by_status-[yyyyMMdd].csv"></column>
            <column name="result_type" value="CSV"></column>
            <column name="uuid" value="EDR_UUID"></column>
            <column name="sql_query">
SELECT  edr.id AS "Id"
	, edr.STATUS AS "Status"
	, edr.reject_reason AS "Rejection reason"
	, edr.access_code AS "Access code"
	, su.code AS "Subscription code"
	, of.code AS "Offer code"
	, edr.event_date AS "Event date"
	, edr.origin_batch AS "Origin batch"
	, edr.origin_record AS "Origin record"
	, edr.quantity AS "Quantity"
	, edr.parameter_1 AS "Param S1"
	, edr.parameter_2 AS "Param S2"
	, edr.parameter_3 AS "Param S3"
	, edr.parameter_4 AS "Param S4"
	, edr.parameter_5 AS "Param S5"
	, edr.parameter_6 AS "Param S6"
	, edr.parameter_7 AS "Param S7"
	, edr.parameter_8 AS "Param S8"
	, edr.parameter_9 AS "Param S9"
	, edr.date_parameter_1 AS "Param D1"
	, edr.date_parameter_2 AS "Param D2"
	, edr.date_parameter_3 AS "Param D3"
	, edr.date_parameter_4 AS "Param D4"
	, edr.date_parameter_5 AS "Param D5"
	, edr.decimal_parameter_1 AS "Param N1"
	, edr.decimal_parameter_2 AS "Param N2"
	, edr.decimal_parameter_3 AS "Param N3"
	, edr.decimal_parameter_4 AS "Param N4"
	, edr.decimal_parameter_5 AS "Param N5"  
from ${db.schema.adapted}rating_edr edr
	INNER JOIN ${db.schema.adapted}billing_subscription su  on su.id = edr.subscription_id
	INNER JOIN ${db.schema.adapted}cat_offer_template of  on OF.id = su.offer_id where edr.event_date > (date_trunc('month', CURRENT_DATE) - CAST(:MONTH_INTERVAL || ' month' AS INTERVAL))  
and edr.STATUS ilike '%' || :EDR_STATUS || '%'  and(  su.code ilike '%' || :SEARCH_CRITERION || '%'  or OF.code ilike '%' 
	|| :SEARCH_CRITERION || '%'  or edr.access_code ilike '%' || :SEARCH_CRITERION || '%'  or edr.reject_reason ilike '%' 
	|| :SEARCH_CRITERION || '%'  or edr.origin_batch ilike '%' || :SEARCH_CRITERION || '%'  or edr.origin_record ilike '%' 
	|| :SEARCH_CRITERION || '%'  or edr.parameter_1 ilike '%' || :SEARCH_CRITERION || '%'  or edr.parameter_2 ilike '%' 
	|| :SEARCH_CRITERION || '%'  or edr.parameter_3 ilike '%' || :SEARCH_CRITERION || '%'  or edr.parameter_4 ilike '%' 
	|| :SEARCH_CRITERION || '%'  or edr.parameter_5 ilike '%' || :SEARCH_CRITERION || '%'  or edr.parameter_6 ilike '%' 
	|| :SEARCH_CRITERION || '%'  or edr.parameter_7 ilike '%' || :SEARCH_CRITERION || '%'  or edr.parameter_8 ilike '%' 
	|| :SEARCH_CRITERION || '%'  or edr.parameter_9 ilike '%' || :SEARCH_CRITERION || '%')  
order by edr.STATUS, edr.id DESC
            </column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-26"></column>
            <column name="params_key" value="SEARCH_CRITERION"></column>
            <column name="params" value="%"></column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-26"></column>
            <column name="params_key" value="MONTH_INTERVAL"></column>
            <column name="params" value="12"></column>
        </insert>
        
        <insert tableName="dwh_report_extract_params">
            <column name="reportextract_id" value="-26"></column>
            <column name="params_key" value="EDR_STATUS"></column>
            <column name="params" value="%"></column>
        </insert>
	</changeSet>

    <changeSet author="MounirBahije" id="#3545_13082018">
        <sql>
            update ${db.schema.adapted}billing_invoice_type set script_instance_id = (select id from ${db.schema.adapted}meveo_script_instance where code =  (select substring(
            (select substring((select cf_values from ${db.schema.adapted}crm_provider  where id = 1)  from
            (select char_length('PROV_CUSTOM_INV_XML_SCRIPT_CODE":[{"string":"') + (select position('PROV_CUSTOM_INV_XML_SCRIPT_CODE' in (select cf_values from ${db.schema.adapted}crm_provider  where id = 1) ))) )
            )
            for

            (select 	position('"' in
            (select substring((select cf_values from ${db.schema.adapted}crm_provider  where id = 1)  from
            (select char_length('PROV_CUSTOM_INV_XML_SCRIPT_CODE":[{"string":"') + (select position('PROV_CUSTOM_INV_XML_SCRIPT_CODE' in (select cf_values from ${db.schema.adapted}crm_provider  where id = 1) )) + 1) ))
            )
            )
            )))
        </sql>
        <sql>
            update ${db.schema.adapted}crm_provider set cf_values =
            (select replace(
            (select replace(
            (select replace(
            (select replace( (select cf_values from ${db.schema.adapted}crm_provider  where id = 1),
            (select '"PROV_CUSTOM_INV_XML_SCRIPT_CODE":[{"string":"' ||
            (select substring(
            (select substring((select cf_values from ${db.schema.adapted}crm_provider  where id = 1)  from
            (select char_length('PROV_CUSTOM_INV_XML_SCRIPT_CODE":[{"string":"') + (select position('PROV_CUSTOM_INV_XML_SCRIPT_CODE' in (select cf_values from ${db.schema.adapted}crm_provider  where id = 1) ))) )
            )
            for
            (select 	position('"' in
            (select substring((select cf_values from ${db.schema.adapted}crm_provider  where id = 1)  from
            (select char_length('PROV_CUSTOM_INV_XML_SCRIPT_CODE":[{"string":"') + (select position('PROV_CUSTOM_INV_XML_SCRIPT_CODE' in (select cf_values from ${db.schema.adapted}crm_provider  where id = 1) )) + 1) ))
            )
            )
            ))
            || '"}]') , '')),'{,','{')), '],,"', '],"')),',}','}'))
        </sql>
    </changeSet>

    <changeSet id="#3554_20180812 payment sepa as file _data" author="anasseh">
        <insert tableName="ar_ddrequest_builder">
            <column name="id" valueNumeric="-1" />
            <column name="version" valueNumeric="0" />
            <column name="disabled" valueNumeric="0" />
            <column name="created" valueDate="2018-08-12 14:04:19.955" />
            <column name="code" value="Sepa_STD" />
            <column name="description" value="Sepa  : urn:iso:std:iso:20022:tech:xsd:pain.008.001.02 and Sepa reject file Pain002" />
            <column name="type" value="NATIF" />
            <column name="implementation_class_name" value="org.meveo.admin.sepa.SepaFile"/>
            <column name="nb_ops_file" value="-1"/>
            <column name="max_size_file" value="-1"/>
            <column name="uuid" value="44bb7507-11cc-4a98-aa50-1777ddae3e6c" />
            <column name="creator" value="opencell.admin" />
        </insert>  
        <insert tableName="ar_ddrequest_builder">
            <column name="id" valueNumeric="-2" />
            <column name="version" valueNumeric="0" />
            <column name="disabled" valueNumeric="0" />
            <column name="created" valueDate="2018-08-12 14:05:32.622" />
            <column name="code" value="Sepa_Paynum" />
            <column name="description" value="Sepa  : urn:iso:std:iso:20022:tech:xsd:pain.008.001.02 and Sepa reject file Pain002" />
            <column name="type" value="NATIF" />
            <column name="implementation_class_name" value="org.meveo.admin.sepa.PaynumFile"/>
            <column name="nb_ops_file" value="-1"/>
            <column name="max_size_file" value="-1"/>
            <column name="uuid" value="a6873856-1d25-4df8-8801-09314528aa17" />
            <column name="creator" value="opencell.admin" />
        </insert> 
    </changeSet>
</databaseChangeLog>